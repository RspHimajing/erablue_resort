

@ダンジョン初期処理_風遊ぶ渓谷の参道
;ダンジョン構造の読み込み
;0でない時、そのマスは存在する
#DIM 深度
#DIM 分岐

ダンジョンサブタイトル = APPROACH TO TIAMAT
ダンジョンマス画像URL_伏せ状態 = 壁_洞窟
ダンジョン現在位置:0 = 0
ダンジョン現在位置:1 = 2
ダンジョン背景画像 = 背景_山

;スタート地点は必ず存在
;初期からオープン済みなので3を入れる
;ビット0：存在するか　ビット1：移動できるか　ビット2：マスをオープンするか（ビット１をONにしないと無意味）　ビット3：入れないがオープンする場合に使用
;ビット4以降：自由枠。主に宝箱の開閉やイベント達成フラグなどに使用
IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{ダンジョン現在位置:0}:{ダンジョン現在位置:1}") == 0
	SETVAR @"ダンジョン構造配列_%ダンジョン名%:{ダンジョン現在位置:0}:{ダンジョン現在位置:1}", 3
ENDIF

FOR 深度, 1, 100
	LOCAL = 0
	FOR 分岐, 0, 9
		IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{深度}:{分岐}")
			;既にマス情報が入ってるなら飛ばす
			LOCAL = 1
			CONTINUE
		ELSEIF ENUMFUNCBEGINSWITH(@"ダンジョンマス情報_%ダンジョン名%_{深度}_{分岐}")
			LOCAL = 1
			SETVAR @"ダンジョン構造配列_%ダンジョン名%:深度:分岐", 1
		ENDIF
	NEXT
	IF LOCAL
		ダンジョン最大深度 = 深度
	ENDIF
NEXT

@ダンジョン解説文_風遊ぶ渓谷の参道

詳細文文字列受け渡し変数 = 
詳細文文字列受け渡し変数 += "ポートブリーズ群島に存在する、星晶獣ティアマトを祀る社への参道。<br>"
詳細文文字列受け渡し変数 += "道中には素早い魔物が出没する。先手を取られることが多く、被害を防ぐことは難しいだろう。<br>"
IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:2:1, 2)
	詳細文文字列受け渡し変数 += "分社の巫女さんから「風のマント」を貰った。<br>これで崖下の道に降りることが出来るだろう。<br>"
ELSE
	詳細文文字列受け渡し変数 += "ところどころに見える崖の下にも道があるらしいが……。<br>"
ENDIF

;推奨レベルを返す
RETURN 17



@敵討伐後処理_ダンジョン固有_風遊ぶ渓谷の参道(討伐エネミー数)
;ダンジョン内で戦闘した後に呼ばれる関数、主にダンジョンごとのドロップアイテム取得に使用
;まだ敵データはリセットしていないので敵BATTLE_STATEで色々情報は取得可能
#DIM 討伐エネミー数
#DIM ドロップ確率
#DIMS ドロップアイテム

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 普通の木材
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 柔らかい羽
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 3 * 討伐エネミー数
ドロップアイテム = 風伯の羽
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 星晶の破片
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 1 * 討伐エネミー数
ドロップアイテム = 赤銅の古紋
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

;---------------------------------------------------------------------
;マップ構造
;---------------------------------------------------------------------
;上と下に分かれているマップ
;ただ下はほぼ行き止まりなので実質一本道
;---------------------------------------------------------------------

@ダンジョンマス情報_風遊ぶ渓谷の参道_0_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 0
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 港から街を進み、郊外にある小さな山に辿り着く。
			WSTR:(K++) = この島には風の星晶獣──「ティアマト」に力を貸してもらいに来たのだが、
			KSTR:(K++) = どうやら通常の星晶獣とは異なり、ティアマトは空の民たちと共存共栄をしているらしい。_PAGE
			WSTR:(K++) = 昔は存在すら忘れられていたようだが、最近の事件によってどうのこうの……。その辺はいいだろう。
			WSTR:(K++) = 重要なのは山の頂上にティアマトの御社が建てられていて、力を借りるには上まで登る必要があるということだ。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは他の参拝客と同じように、踏み固められた山道を登り始める。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 参拝道の入口だ。周囲には参拝に向かう人がちらほらいる。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_1_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 0
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 小屋の入口周りには雑多な工具が放置されている。
			WSTR:(K++) = 高価なものは持ち帰ったのだろう、ここに置いてあるのは安価な機具ばかりだ。
			WSTR:(K++) = ……その他にはなにもない。別の場所を探してみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 小屋の入口周りには雑多な工具が放置されている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_1_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 1
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 小屋の奥には作業員が置いていった私物が置いてあった。
			WSTR:(K++) = 大半は汚れた衣服などのゴミばかりだったが、その下からきのこが生えていた。
			WSTR:(K++) = ……一応は食べられる種類のようだが、なんか嫌だ。
			WSTR:(K++) = 採取はせず、そっとしておこう。
		ELSE
			KSTR:(K++) = 洋服の下からきのこが生えている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_2_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは山の麓にある分社を訪れた。
			WSTR:(K++) = 何人かの参拝客と、境内を掃き清めている巫女さんがいる。
			WSTR:(K++) = 君たちの姿に気づいた巫女さんが、笑顔で声を掛けてきた。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「島外からいらっしゃった方ですか？　こんにちは、ティアマト様の分社にようこそ。
			WSTR:(K++) = 　ティアマト様は風を司る星晶獣で、騎空士の方や風祷師さんがよくお参りに来るんですよ。
			WSTR:(K++) = 　航空安全のお守りなんかはいかがです？」
			CALL メッセージ欄表示用関数(,"分社の巫女さん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 営業トークを受けて幾つかお守りを購入しながら、自分たちは本宮へ行くつもりだと伝える。
			WSTR:(K++) = なにか気をつけることなどはないだろうか。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あぁー、今土砂崩れで頂上への道が塞がってるんです。
			WSTR:(K++) = 　山の上だから工事もなかなか進まなくて……。
			WSTR:(K++) = 　一応別の道から行くことは出来るんですが、島外の人にはちょっとオススメしないというか……」
			CALL メッセージ欄表示用関数(,"分社の巫女さん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 工事の終了予定を聞くと、一年以上は掛かるとのこと。
			WSTR:(K++) = 流石にそれほどの期間待ってはいられない。
			WSTR:(K++) = 別の道とやらを教えてもらえないだろうか、とお守りを追加購入しつつ巫女さんにお願いする。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あぁー、そこまで頼まれたらしょうがないですねぇ！
			WSTR:(K++) = 　実はですね、参道の脇には深い谷があるんですが……。
			WSTR:(K++) = 　こちらの『風のマント』を羽織ると、谷底に降りたり谷から上がってくることが出来るんです！
			WSTR:(K++) = 　そうやって谷底を経由すると土砂崩れの向こう側に出られるんですよ！」
			CALL メッセージ欄表示用関数(,"分社の巫女さん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = それはすごい！　でも、お高いんでしょう。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「いえいえ、こちら差し上げますよ！　たくさんお守りを買っていただいたので！
			WSTR:(K++) = 　というか余ってるんですよね。このマントで上り下り出来るくらい風が強いのって、この島しかないんで。
			WSTR:(K++) = 　なので遠慮なくどーぞどーぞ。お連れ様の分も。はい！」
			CALL メッセージ欄表示用関数(,"分社の巫女さん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = どさどさ、と巫女さんがマントを一式持ってきてくれる。
			WSTR:(K++) = そういうことならありがたく頂いていこう。
			KSTR:(K++) = %CALLNAME:PLAYER%たちは手を振って見送る巫女さんと別れ、頂上への道に戻ることにした。_PAGE
			WSTR:(K++) = %CALLNAME:PLAYER%たちはこのダンジョンで風のマントが使えるようになった！
			CALL メッセージ欄表示用関数(,,,0)
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 「また今度もお守り買ってくださいねー」
			KSTR:(K++) = と、巫女さんがにこにこと営業スマイルを浮かべている。
			CALL メッセージ欄表示用関数(,"分社の巫女さん",,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_2_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちが道を進むと、品の良いおばさんとすれ違った。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あら、あなた達。島の外から来た方？
			WSTR:(K++) = 　ティアマト様にお参りするなら、あっちに分社があるわ。
			KSTR:(K++) = 　本宮はまっすぐ行った先の頂上にあるけれど、道中魔物が出るから。危険でしょう？」_PAGE
			WSTR:(K++) = 「……と言っても、あなた達は結構戦いに慣れてそうね。
			WSTR:(K++) = 　余計なお世話だったかしら。ほほほ、それじゃあ気をつけて」
			CALL メッセージ欄表示用関数(,"品の良いおばさん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = %CALLNAME:PLAYER%が脇道を見ると、確かに神社のような建物が見える。
			WSTR:(K++) = 分社だからか、星晶獣の力は殆ど感じない。ティアマトと会うにはやはり頂上に向かわなければならないだろう。
			WSTR:(K++) = ただ、参拝道となっている山を管理しているはずだ。
			WSTR:(K++) = 参拝の手順や山道について、一度話を聞きに行っても良いだろう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = まっすぐ行くと頂上への道。脇にそれると分社がある。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_2_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 小屋のすぐ横には雑多に積まれた石屑の山がある。
			WSTR:(K++) = 石屑はただの小石の山で、特に変わったものは何も……
			KSTR:(K++) = ……！　小石の中に、魔石に変わっているものがある！_PAGE
			WSTR:(K++) = どうやらここに放置されている間に魔力を帯びて変化したようだ。
			WSTR:(K++) = 山を崩すと更に幾つかの魔石を見つけることが出来た。
			WSTR:(K++) = %CALLNAME:PLAYER%は魔石を６個手に入れた！
			CALL アイテム増減汎用処理("魔石", 6)
		ELSE
			KSTR:(K++) = 小屋のすぐ横には雑多に積まれた石屑の山がある。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_2_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "1_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "1_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 盆地の中央に、打ち捨てられた小屋がある。
			WSTR:(K++) = 周囲には目ぼしいものは何もなく、何かあるとしたら小屋の中だけだろう。
			WSTR:(K++) = 中に入って色々調べてみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 盆地の中央に打ち捨てられた小屋がある。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_2_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		SIF ダンジョン内一時変数:0 == 0
			ダンジョンマス画像URL_重ね表示 = えっちハート
	CASE "接続先"
	CASE "マスイベント"
		;えっちイベ
		;XXXXを使ってないダンジョン内一時変数の番号に変えること
		IF ダンジョン内一時変数:0
		ELSE
			CALL ダンジョンハプニング基本処理()
			IF RESULT
				ダンジョン内一時変数:0 = 1
			ENDIF
			CALL 口上変数初期化
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_3_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 谷底の奥に足を踏み入れると、巨大な生物を見つける。
			WSTR:(K++) = その生物は鋭い爪と巨大な顎を持ち、鋭い眼光で獲物を噛み殺す恐るべき竜……！！
			WSTR:(K++) = ティラノサウルスだ！
			WSTR:(K++) = ティラノは%CALLNAME:PLAYER%たちの姿を確認すると巨大な咆哮を上げ、襲いかかってくる！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv37_ティラノサウルスβ
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = %CALLNAME:PLAYER%たちはなんとか強敵を打倒することに成功した！
				WSTR:(K++) = 強敵は幾つかの装飾品と、財宝を持っていた。
				WSTR:(K++) = ティラノサウルスβから「恐竜βの指輪」を手に入れた！
				WSTR:(K++) = ティラノサウルスβから「古ぼけた耳飾り・金」を手に入れた！
				WSTR:(K++) = ティラノサウルスβから300,000ルピを手に入れた！
				MONEY += 300000
				CALL 汎用指輪取得処理("恐竜βの指輪", 3)
				CALL 素材入手処理("古ぼけた耳飾り・金", 1)
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ELSEIF RESULT == -1
				;逃走時
				WSTR:(K++) = %CALLNAME:PLAYER%たちはなんとか強敵から逃げ出すことに成功する。
				WSTR:(K++) = 次はもう少し強くなってから挑戦しよう…
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
			ENDIF
		ELSE
			KSTR:(K++) = 強敵は既に打倒した後だ。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_4_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_2")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 山道を進んでいくと、道端に木製の看板が建てられていた。
			WSTR:(K++) = 『参道に魔物出没注意！
			WSTR:(K++) = 　戦闘の心得がない方は分社でのお参りを！
			KSTR:(K++) = 　戦える方は出来る限り魔物の駆除にご協力ください』_PAGE
			WSTR:(K++) = 看板のすぐ近くには、ふよふよと精霊系の魔物が浮いている。
			WSTR:(K++) = ここは社会貢献をしておくとしよう。%CALLNAME:PLAYER%たちは武器を構え、魔物の駆除に入る。
			CALL メッセージ欄表示用関数(,,,0)
			;前のエネミーを再利用
			敵BATTLE_STATE_STR:0:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:0:ランダムエネミーフラグ = 17
			敵BATTLE_STATE_STR:3:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:3:ランダムエネミーフラグ = 17
			敵BATTLE_STATE_STR:4:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:4:ランダムエネミーフラグ = 17
			敵BATTLE_STATE_STR:7:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:7:ランダムエネミーフラグ = 17
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = %CALLNAME:PLAYER%たちは周囲の魔物を蹴散らした。
				WSTR:(K++) = 精霊系の魔物はまた湧いてくるだろうが、しばらくは安全になるはずだ。
				WSTR:(K++) = 今後も魔物はなるべく倒しながら進んでいこう。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:0:ランダムエネミーフラグ = 17
			敵BATTLE_STATE_STR:3:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:3:ランダムエネミーフラグ = 17
			敵BATTLE_STATE_STR:4:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:4:ランダムエネミーフラグ = 17
			敵BATTLE_STATE_STR:7:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:7:ランダムエネミーフラグ = 17
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_4_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_8")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 道を進むと、古い壊れた資材が幾つか転がっている。
			WSTR:(K++) = 昔、ここを開発しようとした時の材料だろう。
			WSTR:(K++) = 幾つか調べてみたが、どれも壊れていて使い物になりそうなものはない。
			WSTR:(K++) = もう少し奥に行けば何か残っているだろうか。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 古い壊れた資材が幾つか転がっている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_5_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "7_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 参道に沿って山の上へと昇っていく。
			WSTR:(K++) = 意外にも本宮への道にも参拝客はいて、腕に覚えのありそうな騎空士の姿が多い。
			WSTR:(K++) = 空を旅する騎空士にとって風の星晶獣は参拝するに値する縁起物なのだろう。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは参拝客に混じって更に道を進んでいく。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 腕に覚えのありそうな騎空士たちが本宮への道を進んでいる。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_5_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 脇道の行き止まりに、緑色に発光する石ころが落ちている。
			WSTR:(K++) = 手に取ってみると、それは風の魔力が固まった魔石のようだ。
			CALL 知識技能所持者検索("魔法知識", 1)
			LOCAL = RESULT
			IF LOCAL > -1
				WSTR:(K++) = %CALLNAME:LOCAL%が魔石から余計な魔力を取り除き、魔石を簡単な道具として加工する。
				WSTR:(K++) = %CALLNAME:PLAYER%たちは「風の魔石」を3個に手に入れた！
				CALL アイテム増減汎用処理("風の魔石", 3)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ELSE
				WSTR:(K++) = ただ、このままでは使い物にならないだろう。
				WSTR:(K++) = 魔法知識を持つ仲間がいれば加工出来たかもしれないが……。
			ENDIF
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = もう目ぼしいものは何もない。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_7_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 7
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = そこそこ登ってきたような気がするが、まだまだ先は長そうだ。
			WSTR:(K++) = 現時点で二合目くらいの高さだろうか。
			WSTR:(K++) = ほどほどに休みながら先に進んでいこう。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(8, 2)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 8
		ダンジョン現在位置:1 = 2
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_7_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 7
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "3_6")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 8
		ダンジョン現在位置:1 = 5
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_7_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 7
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_8")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 8
		ダンジョン現在位置:1 = 7
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_8_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 8
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_2")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 7
		ダンジョン現在位置:1 = 2
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_8_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 8
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(7, 5)
		ENDIF
		ダンジョン現在位置:0 = 7
		ダンジョン現在位置:1 = 5
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_8_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 8
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 地図を見ると、この先は盆地になっているようだ。
			WSTR:(K++) = 麓に近いため一時は利用を考えられていたが、行き来が不便で結局何にも使われていない。
			WSTR:(K++) = ……と、近くの街で話を聞いたことがある。
			WSTR:(K++) = 利用が考えられていたくらいならあまり危険もないだろう。気楽に進もう。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(7, 7)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 7
		ダンジョン現在位置:1 = 7
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_9_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 9
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "8_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = こちらの道に進むと、徐々に風が強くなってきた。
			WSTR:(K++) = 強敵は別の道にいるらしい。となるとこちらは比較的安全に探索が出来るだろう。
			WSTR:(K++) = しかし通常の魔物相手も油断は出来ない。気を付けて進もう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = こちらの道に進むと、徐々に風が強くなってきた。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_10_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 山道を進んでいくと、分かれ道で大きな荷物を抱えて座り込んでいる青年がいた。
			WSTR:(K++) = 大丈夫だろうかと声を掛けると、青年は大丈夫だと笑顔で返す。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「ちょっと素材を取りすぎちゃってね。休みながら帰ろうとしてただけなんだ。
			WSTR:(K++) = 　ここの分かれ道を右に行くと『風切四つ葉』が取れる場所に出るんだよ」
			CALL メッセージ欄表示用関数(,"大荷物の青年",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 風切四つ葉といえば、風の力を多く蓄えた植物素材だ。
			WSTR:(K++) = 常時強風を当てなければ育たないため、買うとなるとそれなりに高い素材でもある。
			WSTR:(K++) = 青年曰く、取りすぎなければ誰でも採取して構わないとのことだ。
			WSTR:(K++) = 興味があるなら、少し寄り道しても良いだろう。採取場への道は向かって右側だ。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 向かって右が採取場、左が頂上への道だ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_10_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "8_5")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 道の先に精霊系の魔物を見つけた。
			WSTR:(K++) = いつものように討伐しようと武器を構えるが……どこか様子がおかしい。
			WSTR:(K++) = あれは風のエレメンタルではなく……闇のエレメンタルだ！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:3:エネミー名 = Lv21_闇のエレメンタル
			敵BATTLE_STATE_STR:4:エネミー名 = Lv21_闇のエレメンタル
			敵BATTLE_STATE_STR:7:エネミー名 = Lv21_闇のエレメンタル
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 闇の精霊がいるとなると、いよいよ決定的だ。
				WSTR:(K++) = この先に強力な魔物がいることは間違いない。
				WSTR:(K++) = 戦いを挑むのならば、十分な鍛錬と準備が必要だろう。
				WSTR:(K++) = 覚悟が出来たのなら道の先へと進もう。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:3:エネミー名 = Lv21_闇のエレメンタル
			敵BATTLE_STATE_STR:4:エネミー名 = Lv21_闇のエレメンタル
			敵BATTLE_STATE_STR:7:エネミー名 = Lv21_闇のエレメンタル
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_11_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 11
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 脇道に入ってみると、確かに風切四つ葉が幾つも群生している。
			WSTR:(K++) = しかし、本道に近い場所は既に採取された後のようだ。
			WSTR:(K++) = 取り尽くしてしまうのは本意ではない。もう少し奥に行ってみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 風切四つ葉が幾つも群生している。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_11_4(ARGS)
#DIM マス深度
#DIM マス分岐
#DIM 採取量
マス深度 = 11
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		IF ダンジョン内一時変数:3
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
		ELSE
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱
		ENDIF
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 立派に育った風切四つ葉の群生地だ。
			WSTR:(K++) = これだけ育っていればそれなりの量を採取しても平気だろう。
			採取量 = RAND:3 + 3
			KSTR:(K++) = %CALLNAME:PLAYER%は「風切四つ葉」を{採取量}個手に入れた！_PAGE
			CALL 素材入手処理("風切四つ葉", 採取量)
			WSTR:(K++) = 地形の関係か、この辺りは特に風の魔力が強い。
			WSTR:(K++) = しばらく時間を置けば、また風切四つ葉が採取出来るようになるだろう。
			KSTR:(K++) = 場所を覚えておくと役立つかもしれない。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			ダンジョン内一時変数:3 = 1
		ELSEIF ダンジョン内一時変数:3 == 0
			WSTR:(K++) = 風切四つ葉が立派に育っている。
			WSTR:(K++) = このくらい育っていればまた採取していっても大丈夫だろう。
			採取量 = RAND:3 + 3
			WSTR:(K++) = %CALLNAME:PLAYER%は「風切四つ葉」を{採取量}個手に入れた！
			CALL 素材入手処理("風切四つ葉", 採取量)
			ダンジョン内一時変数:3 = 1
		ELSE
			KSTR:(K++) = まだ採取出来るほど素材が育っていないようだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_11_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 11
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 食い散らかされた獣の死骸が散乱している。
			WSTR:(K++) = この地域に住む魔物の巣かとも思ったが、死骸の種類が異様に多い。
			KSTR:(K++) = 兎、ボールアニマル、ワイバーン、他魔物ではない獣などなども。_PAGE
			WSTR:(K++) = 少なくともワイバーンを一方的に屠れる魔物がいることは間違いないようだ。
			WSTR:(K++) = 周囲が騒ぎになっていない点を見ると、幸いにして暴れてはいない様子。
			WSTR:(K++) = 戦力に不安があれば引き返してもいいかもしれない。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 食い散らかされた獣の死骸が散乱している。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_11_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 11
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "9_8")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 左右の崖に太陽が隠れ、周囲は薄暗くなっている。
			WSTR:(K++) = あまり良い雰囲気とは言えない場所だ。さっさと通り過ぎてしまおう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 左右の崖に太陽が隠れ、周囲は薄暗くなっている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_12_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "14_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 道端で筋トレをする騎空士がいる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「おっ！　君たちもトレーニングかい！
			WSTR:(K++) = 　この山道はいいぞ！　適度な傾斜に丁度よい強さの魔物！　訓練にぴったりだ！」
			CALL メッセージ欄表示用関数(,"筋トレ騎空士",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「ただ、風の魔力が多いからか行動速度が高い魔物が多いぞ。
			WSTR:(K++) = 　先手を取られて体力を削られがちだ。危うくなったら無理せず撤退するのも大事だな！」
			CALL メッセージ欄表示用関数(,"筋トレ騎空士",,0)
			CALL 口上変数初期化
			WSTR:(K++) = ……変な人だが、悪い人ではないようだ。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは騎空士に別れを告げ、先に進む。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = この付近は行動速度が高い魔物が多いらしい。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_12_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 先ほどの騎空士の筋トレ仲間がこの周囲で筋トレをしている。
			WSTR:(K++) = 暑苦しい筋肉漢たちがソイヤソイヤと肉体に負荷を掛けている！
			WSTR:(K++) = なんだか周囲の湿度がむわっと上昇した気がする……邪魔をしないでおこう。
		ELSE
			KSTR:(K++) = 筋トレ集団がこの周囲で筋トレをしている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_12_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_8")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 道を進むと、風と共に精霊型の魔物が現れる。
			WSTR:(K++) = しかし……なぜだか弱々しく、また数も少ないようだ。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは違和感を覚えながらも、武器を構えて戦いを始める。
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:0:ランダムエネミーフラグ = 14
			敵BATTLE_STATE_STR:5:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:5:ランダムエネミーフラグ = 14
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = やはり、なぜだか精霊が弱っているように感じた。
				WSTR:(K++) = 考えられるのは「近くに別属性の強力な魔物がいる」場合だが……。
				WSTR:(K++) = ……肝心の魔物の気配はまだしない。もう少し進んでも大丈夫だろう。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:0:ランダムエネミーフラグ = 14
			敵BATTLE_STATE_STR:5:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:5:ランダムエネミーフラグ = 14
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_13_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "15_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "14_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 採取場を進むと、がさがさと葉音を立てながらウサギの魔物が複数現れた。
			WSTR:(K++) = 口元には葉っぱが咥えられている。草食の魔物なのだろうか？
			WSTR:(K++) = その愛くるしさに%CALLNAME:PLAYER%が手を差し出してみると、ウサギたちは牙を剥いて襲いかかってきた！！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:2:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:4:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:6:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = どうやら草食ではなく雑食の魔物だったようだ。
				WSTR:(K++) = 魔物を見た目で判断しては危ないなと思いながら、%CALLNAME:PLAYER%たちは先に進む。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:2:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:4:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:6:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_13_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 岩が砕けて、残骸が左右に寄っている。
			WSTR:(K++) = 進みやすくはあるが、見通しも良いため魔物から見つかる可能性も高いだろう。
			WSTR:(K++) = 周囲には変わった様子はない。この光景の原因は近くにはいないようだ。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 岩が砕けて残骸が左右に寄っている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_14_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 14
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "15_2")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			LOCAL = 味方ランダム選出()
			WSTR:(K++) = 山道を進んでいると、突然風が吹いた。
			WSTR:(K++) = 直後に%CALLNAME:PLAYER%は%CALLNAME:(BATTLE_STATE:LOCAL:0)%に押し倒された！
			WSTR:(K++) = 何が起こったのかと周りを見てみると、どうやらウサギの魔物の奇襲から守ってくれたようだ。
			WSTR:(K++) = 奇襲に失敗した魔物は、そのまま%CALLNAME:PLAYER%たちに襲いかかってくる！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:1:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:2:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:7:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 無事に魔物を撃退し、周囲を警戒する。……どうやら他に魔物は潜んでいないようだ。
				WSTR:(K++) = %CALLNAME:(BATTLE_STATE:LOCAL:0)%に助けてもらえなかったら首を掻っ切られていたかもしれない。
				WSTR:(K++) = %CALLNAME:PLAYER%は助けてくれたことへの礼を言い、十分に警戒しながら先へと進む。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:1:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:2:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:7:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_14_3(ARGS)
#DIM マス深度
#DIM マス分岐
#DIM 採取量
マス深度 = 14
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		IF ダンジョン内一時変数:4
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
		ELSE
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱
		ENDIF
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 立派に育った風切四つ葉の群生地だ。
			WSTR:(K++) = これだけ育っていればそれなりの量を採取しても平気だろう。
			採取量 = RAND:3 + 3
			KSTR:(K++) = %CALLNAME:PLAYER%は「風切四つ葉」を{採取量}個手に入れた！_PAGE
			CALL 素材入手処理("風切四つ葉", 採取量)
			WSTR:(K++) = 地形の関係か、この辺りは特に風の魔力が強い。
			WSTR:(K++) = しばらく時間を置けば、また風切四つ葉が採取出来るようになるだろう。
			KSTR:(K++) = 場所を覚えておくと役立つかもしれない。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			ダンジョン内一時変数:4 = 1
		ELSEIF ダンジョン内一時変数:4 == 0
			WSTR:(K++) = 風切四つ葉が立派に育っている。
			WSTR:(K++) = このくらい育っていればまた採取していっても大丈夫だろう。
			採取量 = RAND:3 + 3
			WSTR:(K++) = %CALLNAME:PLAYER%は「風切四つ葉」を{採取量}個手に入れた！
			CALL 素材入手処理("風切四つ葉", 採取量)
			ダンジョン内一時変数:4 = 1
		ELSE
			KSTR:(K++) = まだ採取出来るほど素材が育っていないようだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_15_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 15
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = それなりの場所まで登ってくると、前方に大きな吊り橋が見えてきた。
			WSTR:(K++) = まだ遠いのに確認出来るほどの立派な大橋だ。きっと景色も素晴らしいものが見えるだろう。
			WSTR:(K++) = 我がリゾートにも、雄大な自然や地形を楽しめる見物ルートがあると良いかもしれない。
			WSTR:(K++) = そんなことを考えながら%CALLNAME:PLAYER%たちは吊り橋へと向かって歩みを進める。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(16, 2)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 16
		ダンジョン現在位置:1 = 2
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_15_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 15
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちが素材を採取していると、上から魔物の気配を感じる！
			WSTR:(K++) = 空から現れた、亜竜の魔物──ワイバーンだ！
			WSTR:(K++) = そのままワイバーンは%CALLNAME:PLAYER%たちに襲いかかってくる！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:3:エネミー名 = Lv22_ワイバーン
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = ワイバーンを撃退した君たちは、地面にきらきらとした粒が落ちていることに気づく。
				WSTR:(K++) = 一粒拾ってみると、風の魔力が結晶化した鉱石粒のようだ。
				WSTR:(K++) = 運良く今の魔物が落としていったものだろう。遠慮なく頂いていこう。
				WSTR:(K++) = %CALLNAME:PLAYER%は「エメラルドダスト」を1個手に入れた！
				CALL 素材入手処理("エメラルドダスト", 1)
				CALL メッセージ欄表示用関数(,,,0)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:3:エネミー名 = Lv22_ワイバーン
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_15_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 15
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_8")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 48
		ダンジョン現在位置:1 = 7
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_16_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 16
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_3")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 15
		ダンジョン現在位置:1 = 2
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_風遊ぶ渓谷の参道_18_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 吊り橋までたどり着くと、看板を持ったおじさんが%CALLNAME:PLAYER%たちに近づいてきた。
			WSTR:(K++) = 看板には「フライングおじさん」と書かれている。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「フライーーーーング！！（挨拶）
			WSTR:(K++) = 　みんな、空を飛びたいかーーーーー！」
			CALL メッセージ欄表示用関数(,"フライングおじさん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 怪しい人物だ。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは関わり合いにならないようにして横を通り抜けようとする。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「ちょっ、ちょっと待ってくださいすいません！
			WSTR:(K++) = 　いや、これはちょっとした観光向けのキャラ作りでして！
			WSTR:(K++) = 　ここから先の地形を説明してるんです、話聞いてってください！」
			CALL メッセージ欄表示用関数(,"フライングおじさん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = どういうキャラなんだとは思うが、とりあえず害意は無いようだ。
			WSTR:(K++) = 少しくらいは聞いてあげてもいいだろう。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「それでは、お時間を少しいただきまして……。
			WSTR:(K++) = 　ここより先は、今までよりも更に風が強くなっています。
			KSTR:(K++) = 　「風のマント」を身に纏うと、崖下に飛び降りたり、崖下から飛び上がったり出来るんです」_PAGE
			IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:2:1, 2)
				WSTR:(K++) = 「あ、もうお持ちのようですね。さすが準備が良い！
				WSTR:(K++) = 　それでは安全に降りられる崖の特徴をお教えします。
				WSTR:(K++) = 　これで君たちもフライーーーーング！！（挨拶）」
				CALL メッセージ欄表示用関数(,"フライングおじさん",,0)
				CALL 口上変数初期化
				WSTR:(K++) = そのキャラ付けだけはどうかと思うが、ともあれ風のマントが使える場所の特徴を教えて貰った。
				WSTR:(K++) = これで崖下の場所も探索することが出来そうだ。
				WSTR:(K++) = 巫女さんが言っていた、土砂崩れの向こうに行くことも出来るだろう。
				WSTR:(K++) = %CALLNAME:PLAYER%たちはフライングおじさんに普通の挨拶を返し、先に進む。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ELSE
				WSTR:(K++) = 「麓の分社に行けば手に入れられると思うので、一旦そちらに寄ってみてください。
				WSTR:(K++) = 　それまでは危険なので先に進むことはお断りさせてもらってます。
				WSTR:(K++) = 　誤って下に転落したら復帰出来ませんからね」
				CALL メッセージ欄表示用関数(,"フライングおじさん",,0)
				CALL 口上変数初期化
				WSTR:(K++) = 安全上の問題なら仕方がない。一度分社とやらに寄ってみよう。
			ENDIF
		ELSEIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:2:1, 2) == 0
			WSTR:(K++) = 「まだ風のマントを手に入れてないようですね。
			WSTR:(K++) = 　麓の分社に行けば手に入れられると思うので、一旦そちらに寄ってみてください。
			WSTR:(K++) = 　それまでは危険なので先に進むことはお断りさせてもらってます」
			CALL メッセージ欄表示用関数(,"フライングおじさん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 安全上の問題なら仕方がない。一度分社とやらに寄ってみよう。
		ELSEIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			WSTR:(K++) = 「おや！　風のマントを無事に手に入れたようですね！
			WSTR:(K++) = 　それでは安全に降りられる崖の特徴をお教えします。
			WSTR:(K++) = 　これで君たちもフライーーーーング！！（挨拶）」
			CALL メッセージ欄表示用関数(,"フライングおじさん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = そのキャラ付けだけはどうかと思うが、ともあれ風のマントが使える場所の特徴を教えて貰った。
			WSTR:(K++) = これで崖下の場所も探索することが出来そうだ。
			WSTR:(K++) = 巫女さんが言っていた、土砂崩れの向こうに行くことも出来るだろう。
			WSTR:(K++) = %CALLNAME:PLAYER%たちはフライングおじさんに普通の挨拶を返し、先に進む。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
		ELSE
			KSTR:(K++) = 今日もフライングおじさんが飛び降り方を参拝客に教えている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_18_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 大きな吊り橋を渡ろうと足を踏み入れる前に、%CALLNAME:PLAYER%はこの付近が風のマントを使える地形だと気づく。
			WSTR:(K++) = フライングおじさんが説明していたのも、近くにこの地形があるからだろう。
			WSTR:(K++) = 一度試しに降りてみてもいいかもしれない。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 風のマントを使える地形だ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_18_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖下へと飛び降りる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(49, 0)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 49
		ダンジョン現在位置:1 = 0
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT




@ダンジョンマス情報_風遊ぶ渓谷の参道_21_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "23_2")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 山道を進んでいくと、向こう側からすごい勢いで青年が走ってきて通り過ぎていった。
			WSTR:(K++) = なんだったのだろうかと首を傾げていると、向こう側から蜂の魔物が現れた！
			WSTR:(K++) = 魔物たちは興奮していて、そのまま%CALLNAME:PLAYER%たちに襲いかかってくる！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:2:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:3:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:4:エネミー名 = Lv20_ウィンドビークイーン
			敵BATTLE_STATE_STR:5:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:6:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:7:エネミー名 = Lv17_ウィンドビー
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 無事に蜂たちを撃退する。
				WSTR:(K++) = 走っていた青年は蜂の魔物たちから逃げていたのだろう。
				WSTR:(K++) = 巻き込まれたのが戦える自分たちで良かったと思いつつ、%CALLNAME:PLAYER%たちは先に進む。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:2:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:3:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:4:エネミー名 = Lv20_ウィンドビークイーン
			敵BATTLE_STATE_STR:5:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:6:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:7:エネミー名 = Lv17_ウィンドビー
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_21_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 吊り橋を渡った先では、下草が刈り取られた山道が続いている。
			WSTR:(K++) = 普段から手入れが行き届いているようで、この島にとって星晶獣ティアマトが大事にされていることがよく分かる。
			WSTR:(K++) = 本人（本星晶獣？）に会ったら失礼の無いように接しよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 下草が刈り取られた山道が続いている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_風遊ぶ渓谷の参道_23_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 23
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = もう山の中腹まで来ただろうか。
			WSTR:(K++) = 後ろを振り返ってみると、麓や平野に広がる家々や田畑を一望出来る。
			WSTR:(K++) = ここでも絶景と呼んで差し支えない風景だが、頂上からの眺めは更に素晴らしいだろう。
			WSTR:(K++) = また山登りに戻るとしよう。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(24, 2)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 24
		ダンジョン現在位置:1 = 2
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_24_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 24
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "25_4")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 23
		ダンジョン現在位置:1 = 2
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_25_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_4")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 道の先にウサギの魔物と風の精霊たちの姿が見える。
			WSTR:(K++) = こちらの道は頂上への道ではないが、魔物を放置して誰か襲われても寝覚めが悪い。
			WSTR:(K++) = 少し駆除をしておこう。%CALLNAME:PLAYER%たちは武器を構え、魔物たちへと接敵する！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:0:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:2:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:5:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:5:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:7:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = こちらの道は脇道だからか、あまり整備もされていないようだ。
				WSTR:(K++) = 特に何もなさそうに思えるが、気になるなら先に進んでみてもいいだろう。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:0:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:2:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:5:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:5:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:7:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_26_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 頂上への道を進んでいると、木に掛けられた簡単な看板を見つけた。
			WSTR:(K++) = 「右の脇道先に休憩所アリ」だそうだ。
			WSTR:(K++) = まだ先は長い。疲れているなら一旦休んでいってもいいかもしれない。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 「右の脇道先に休憩所アリ」の看板がある。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_26_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 休憩所の裏に回ると、風のマントが使えそうな崖があった。
			WSTR:(K++) = 既に何人かの参拝客がマントを使って降りたり登ったりを楽しんでいるようだ。
			WSTR:(K++) = 遊んでいる人の邪魔にならないよう、順番を待って利用しよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 休憩所の裏には風のマントが使えそうな崖がある。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_26_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖下へと飛び降りる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(50, 5)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 50
		ダンジョン現在位置:1 = 5
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_27_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_2")
	CASE "マスイベント"
		IF ダンジョン内一時変数:6
			KSTR:(K++) = あまり贅沢は良くない。休憩所の利用は一日一回にしておこう。
			CALL メッセージ欄表示用関数(,,,0)
		ELSE
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				WSTR:(K++) = 「こんにちはー、いらっしゃいませ！
				WSTR:(K++) = 　参拝客の方です？　休憩所は軽食付きでグループまとめて1000ルピですよー！」
				CALL メッセージ欄表示用関数(,"休憩所店員",,0)
				CALL 口上変数初期化
				WSTR:(K++) = 看板に従って休憩所を訪れると、元気な店員さんが挨拶してくれた。
				WSTR:(K++) = ここでの休憩はお金はかかるが、その分ゆっくりと休めそうだ。
				KSTR:(K++) = 体力魔力だけでなく_COLOR_%カラーパレット_HTML("黄")%_奥義ゲージも回復_するだろう。_PAGE
			ELSE
				KSTR:(K++) = 休憩所だ。ここでは体力魔力に加え_COLOR_%カラーパレット_HTML("黄")%_奥義ゲージも回復_するだろう。
			ENDIF
			KSTR:(K++) = 1000ルピを払って休憩していきますか？
			KSTR:(K++) = BUTTON_[はい]
			KSTR:(K++) = BUTTON_[いいえ]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[はい]"
					IF MONEY < 1000
						WSTR:(K++) = 休憩していこう……と思ったが、持ち合わせがなかった。
						WSTR:(K++) = 残念だがまた今度にしよう。
					ELSE
						WSTR:(K++) = %CALLNAME:PLAYER%たちはルピを支払って休憩所を利用することにした。
						CALL メッセージ欄表示用関数(,,,0)
						CALL 口上変数初期化
						WSTR:(K++) = 「ありがとうございまーす！
						WSTR:(K++) = 　メニューはこちらで、仮眠室は奥の個室です！　ごゆっくりどうぞー！」
						CALL メッセージ欄表示用関数(,"休憩所店員",,0)
						CALL 口上変数初期化
						WSTR:(K++) = …………！
						WSTR:(K++) = ゆっくりと休憩し、%CALLNAME:PLAYER%たちは元気になった！
						CALL メッセージ欄表示用関数(,,,0)
						FOR LOCAL, 0, 14
							SIF LOCAL > 3 && LOCAL < 10
								CONTINUE
							SIF BATTLE_STATE:LOCAL:キャラ登録番号 < 1
								CONTINUE
							BATTLE_STATE:LOCAL:ＨＰ = BATTLE_STATE:LOCAL:最大ＨＰ
							BATTLE_STATE:LOCAL:ＭＰ = BATTLE_STATE:LOCAL:最大ＭＰ
							BATTLE_STATE:LOCAL:奥義ゲージ = BATTLE_STATE:LOCAL:ゲージ最大値
						NEXT
						CALL 口上変数初期化
						MONEY -= 1000
						ダンジョン内一時変数:6 = 1
					ENDIF
				CASE "[いいえ]"
					WSTR:(K++) = まだ休憩するほど疲れてはいない。
					WSTR:(K++) = 今は先を急ごう。
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
			CALL メッセージ欄表示用関数(,,,0)
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				CALL 口上変数初期化
				WSTR:(K++) = 「休憩所の裏にはマントが使える崖とか、宿泊用のテントスペースとかありますよー。
				WSTR:(K++) = 　興味があればぜひどうぞー！」
				CALL メッセージ欄表示用関数(,"休憩所店員",,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
			ENDIF
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_27_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = こちら側の裏庭は特に何も利用されていない場所のようだ。
			KSTR:(K++) = 最低限整えられてはいるが、木々は多く見通しも悪い。ゆるい散策に使えるくらいだろうか。_PAGE
			WSTR:(K++) = …………！
			WSTR:(K++) = ざくざくと辺りを散歩していると、木々の影から着衣の乱れた男女が慌ててどこかへ走っていった。
			WSTR:(K++) = どうやらお楽しみを邪魔してしまったらしい。%CALLNAME:PLAYER%は少し申し訳ない気持ちになった。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 死角の多い裏庭だ。お楽しみをしている恋人がいるかもしれない。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_28_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_1")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:27:2, 4) == 0
				;休憩所行ってない
				WSTR:(K++) = 山道を進むと、気合の入った声でウサギを狩る少女の姿があった。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				WSTR:(K++) = 「あ、こんにちはー！　参拝客の方ですか？
				WSTR:(K++) = 　ちょっと休憩所の夕飯用にウサギを狩ってまして。気にせず横をどうぞー」
				CALL メッセージ欄表示用関数(,"休憩所店員",,0)
				CALL 口上変数初期化
				WSTR:(K++) = どうやら少女は近くの休憩所に務める店員のようだ。
				WSTR:(K++) = 笑顔でウサギを撲殺する少女に会釈し、横を通ろうとする……
				WSTR:(K++) = しかし、草むらの奥でウサギの魔物が少女を奇襲しようと狙っている姿を見つけた！
				WSTR:(K++) = %CALLNAME:PLAYER%たちは咄嗟に武器を構え、少女を庇って戦闘に入る！
			ELSE
				;休憩所行ってる
				WSTR:(K++) = 山道を進むと、気合の入った声でウサギを狩る少女の姿があった。
				WSTR:(K++) = あれは……さっきの休憩所にいた店員の少女のように見える。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				WSTR:(K++) = 「あ、お客様！　頂上へご参拝ですか？
				WSTR:(K++) = 　ちょっと夕飯用にウサギを狩ってまして。気にせず横をどうぞー」
				CALL メッセージ欄表示用関数(,"休憩所店員",,0)
				CALL 口上変数初期化
				WSTR:(K++) = 笑顔でウサギを撲殺する少女に会釈し、横を通ろうとする……
				WSTR:(K++) = しかし、草むらの奥でウサギの魔物が少女を奇襲しようと狙っている姿を見つけた！
				WSTR:(K++) = %CALLNAME:PLAYER%たちは咄嗟に武器を構え、少女を庇って戦闘に入る！
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:1:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:3:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:5:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:7:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:9:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 奇襲を狙っていたウサギたちを叩きのめした。
				WSTR:(K++) = 少女に怪我は無く、無事に防ぐことが出来たようだ。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				WSTR:(K++) = 「わお！　ありがとうございます、ちょっと油断してました。
				WSTR:(K++) = 　お礼にお客様が仕留めた分のウサギも一緒に捌いておきますね。
				WSTR:(K++) = 　この山のウサギ、美味しいのでオススメですよ！」
				CALL メッセージ欄表示用関数(,"休憩所店員",,0)
				CALL 口上変数初期化
				WSTR:(K++) = 少女はにこにこと笑顔で刃物を取り出し、手際よくウサギを捌いていく。
				WSTR:(K++) = あっという間にウサギは解体され、調理しやすい肉の形になった。
				KSTR:(K++) = %CALLNAME:PLAYER%は「新鮮ウサギ肉」を４個手に入れた！_PAGE
				CALL 素材入手処理("新鮮ウサギ肉", 4)
				WSTR:(K++) = また休憩所に寄ってくださいねー、と手を振る少女と別れ、%CALLNAME:PLAYER%たちは先に進む。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:1:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:3:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:5:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:7:エネミー名 = Lv18_エムダラビット
			敵BATTLE_STATE_STR:9:エネミー名 = Lv18_エムダラビット
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_28_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 休憩所に併設されたテントスペースを見学してみる。
			WSTR:(K++) = 山の上という限られた場所だが、数組くらいは宿泊出来る広さはあるようだ。
			WSTR:(K++) = 実際にテントを建てて利用している客もいる。酒盛りをしてご機嫌な様子だ。
			WSTR:(K++) = こちらの姿に気づいた宿泊客が、テンション高めに話しかけてきた。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「こんちゃーす！　そちらさんもテント泊っすか？
			WSTR:(K++) = 　あ、違う？　そりゃ失礼！　いやーでもテントオススメっすよ！
			KSTR:(K++) = 　大自然の中でゆっくりして酒が美味い！　まあ酒は麓でも美味いすけど！」_PAGE
			WSTR:(K++) = 「どうせなら一緒に宴会していきません？
			WSTR:(K++) = 　酒も飯もたくさんあるんで飛び入り全然歓迎すよ！」
			CALL メッセージ欄表示用関数(,"酔っ払い",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 宿泊客はげらげらと笑ってご機嫌な様子だ。
			WSTR:(K++) = しかし宴会に混ざっているほどの時間は無い。
			WSTR:(K++) = 残念だが……と酔客に断りの意思を伝える。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あー忙しげな感じ？　残念だなー。
			WSTR:(K++) = 　あ、それじゃせっかくだし酒だけでもおすそ分けするすよ！
			WSTR:(K++) = 　どーぞどーぞ！　是非持ってって！！」
			CALL メッセージ欄表示用関数(,"酔っ払い",,0)
			CALL 口上変数初期化
			WSTR:(K++) = %CALLNAME:PLAYER%は遠慮するも、酔客はいーからいーから！　とお酒をわけてくれた。
			WSTR:(K++) = 山登り中に酔うのは危ないので、帰ってからありがたく頂こう。
			WSTR:(K++) = %CALLNAME:PLAYER%は「炭酸麦酒」を６個手に入れた！
			CALL 素材入手処理("炭酸麦酒", 6)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 宿泊客たちが楽しげに宴会している。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_29_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		SIF ダンジョン内一時変数:1 == 0
			ダンジョンマス画像URL_重ね表示 = えっちハート
	CASE "接続先"
	CASE "マスイベント"
		;えっちイベ
		;XXXXを使ってないダンジョン内一時変数の番号に変えること
		IF ダンジョン内一時変数:1
		ELSE
			CALL ダンジョンハプニング基本処理()
			IF RESULT
				ダンジョン内一時変数:1 = 1
			ENDIF
			CALL 口上変数初期化
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_29_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_8")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 短い下草を踏み固めながら獣道を進む。
			WSTR:(K++) = この辺の地形は風のマントで崖下に降りられそうだ。
			WSTR:(K++) = 他にも、うっすらと獣道が二手に分かれているのが見える。
			WSTR:(K++) = 帰り道がわからなくならないように注意しよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 風のマントで崖下に降りられそうだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_29_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖下へと飛び降りる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(55, 7)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 55
		ダンジョン現在位置:1 = 7
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_30_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = まるで飛び降り台のように崖から大きく張り出した岩がある。
			WSTR:(K++) = 一見崩れ落ちそうだが、地中の岩盤と繋がっており安全なのだそうだ。
			WSTR:(K++) = 岩の先端から風のマントを使って飛び降りるのが観光客に人気……
			WSTR:(K++) = ……と近くの看板に書かれている。
			WSTR:(K++) = 確かにマントを使えば崖下に降りられそうだ。気が向いたら寄り道してみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 崖から大きく張り出した岩がある。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_30_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖下へと飛び降りる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(53, 1)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 53
		ダンジョン現在位置:1 = 1
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_31_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = ようやく七合目辺りまで来ただろうか。
			WSTR:(K++) = そろそろ頂上にあるというティアマトの社が肉眼でも確認出来るようになってきた。
			WSTR:(K++) = しかし、もう少しという段階が一番油断しやすく危ないと聞く。
			WSTR:(K++) = 最後まで気を引き締めて登っていこう。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(32, 1)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 32
		ダンジョン現在位置:1 = 1
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_31_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF ダンジョン内一時変数:5 >= 3
			KSTR:(K++) = 巨樹の魔力は穏やかに落ち着いている。
			KSTR:(K++) = しばらくしたらまた貯まるだろう。
			CALL メッセージ欄表示用関数(,,,0)
		ELSE
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				WSTR:(K++) = 獣道の終端には巨大な樹木が生えていた。
				WSTR:(K++) = 数人で手を繋いでも一周出来ないほど太く、遥か昔からここで根を張っていることが伺える。
				WSTR:(K++) = 風の魔力を十分に蓄えており、動物たちが魔力を目当てに周囲に集まっている。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
			ENDIF
			IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
				CALL 知識技能所持者検索("錬金知識", 2)
				LOCAL = RESULT
				IF LOCAL > -1
					WSTR:(K++) = %CALLNAME:LOCAL%は、魔力を使ってアイテムの変化を行えることに気づいた。
					WSTR:(K++) = _COLOR_FFD900_「魔石」を所持していれば、それを「風の魔石」に変化させる_ことが可能だろう。
					WSTR:(K++) = あるいは魔力を中和し、_COLOR_FFD900_「土の魔石」を「魔石」に変化させる_ことも出来そうだ。
					WSTR:(K++) = 少し試してみても良いかもしれない。
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
				ELSE
					WSTR:(K++) = 高い錬金の知識があればこの魔力をなにかに利用できそうだが……。
					WSTR:(K++) = 今は何も出来なさそうだ。動物の邪魔をしないようにそっとしておこう。
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
				ENDIF
			ENDIF
			IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4)
				$イベントループ
				CALL 口上変数初期化
				KSTR:(K++) = ・１日３回まで巨樹の魔力を使ってアイテムの変化が出来ます。残り：{3 - ダンジョン内一時変数:5}回
				IF DT_CELL_GET("所持アイテムデータベース", 0, "魔石")
					KSTR:(K++) = BUTTON_[魔石を風の魔石に変化させる]
				ELSE
					KSTR:(K++) = COLOR_%カラーパレット_HTML("グレーアウト")%_[魔石を風の魔石に変化させる]
				ENDIF
				IF DT_CELL_GET("所持アイテムデータベース", 0, "土の魔石")
					KSTR:(K++) = BUTTON_[土の魔石を魔石に変化させる]
				ELSE
					KSTR:(K++) = COLOR_%カラーパレット_HTML("グレーアウト")%_[魔石を風の魔石に変化させる]
				ENDIF
				KSTR:(K++) = BUTTON_[何もしない]
				CALL メッセージ欄表示用関数(,,,0)
				$LOOP_MESSAGE
				INPUTS
				SELECTCASE RESULTS
					CASE "[魔石を風の魔石に変化させる]"
						CALL 口上変数初期化
						IF DT_CELL_GET("所持アイテムデータベース", 0, "魔石") <= 0
							WSTR:(K++) = 魔石がありません。
						ELSE
							WSTR:(K++) = %CALLNAME:PLAYER%は巨樹の魔力を使い、魔石を１個「風の魔石」に変換した！
							CALL アイテム増減汎用処理("魔石", -1)
							CALL アイテム増減汎用処理("風の魔石", 1)
							ダンジョン内一時変数:5 ++
						ENDIF
						CALL メッセージ欄表示用関数(,,,0)
						IF ダンジョン内一時変数:5 < 3
							GOTO イベントループ
						ELSE
							CALL 口上変数初期化
							WSTR:(K++) = 今日はこれ以上魔力を使うことは出来ないだろう。
							CALL メッセージ欄表示用関数(,,,0)
						ENDIF
					CASE "[土の魔石を魔石に変化させる]"
						CALL 口上変数初期化
						IF DT_CELL_GET("所持アイテムデータベース", 0, "土の魔石") <= 0
							WSTR:(K++) = 土の魔石がありません。
						ELSE
							WSTR:(K++) = %CALLNAME:PLAYER%は巨樹の魔力を使い、土の魔石を１個「魔石」に変換した！
							CALL アイテム増減汎用処理("魔石", 1)
							CALL アイテム増減汎用処理("土の魔石", -1)
							ダンジョン内一時変数:5 ++
						ENDIF
						CALL メッセージ欄表示用関数(,,,0)
						IF ダンジョン内一時変数:5 < 3
							GOTO イベントループ
						ELSE
							CALL 口上変数初期化
							WSTR:(K++) = 今日はこれ以上魔力を使うことは出来ないだろう。
							CALL メッセージ欄表示用関数(,,,0)
						ENDIF
					CASE "[何もしない]"
						CALL 口上変数初期化
						WSTR:(K++) = もう変化は必要ないだろう。%CALLNAME:PLAYER%たちは巨樹の元から立ち去った。
						CALL メッセージ欄表示用関数(,,,0)
					CASEELSE
						CLEARLINE 1
						REUSELASTLINE  
						GOTO LOOP_MESSAGE
				ENDSELECT
			ENDIF
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_32_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 32
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "34_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "33_3")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 31
		ダンジョン現在位置:1 = 1
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_33_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 33
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "35_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "34_2")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 道の真ん中に精霊たちが群がっている。
			WSTR:(K++) = どうやら何かのアイテムに集まっているようだが、何に集まっているかはよく見えない。
			WSTR:(K++) = 何にせよこれを処理しなければここを通ることは難しそうだ。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは武器を構えた。
			CALL メッセージ欄表示用関数(,,,0)

			敵BATTLE_STATE_STR:1:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:1:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:2:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:2:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:3:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:3:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:5:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:5:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:6:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:6:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:7:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:7:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:9:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:9:ランダムエネミーフラグ = 19
			CALL 雑魚敵遭遇汎用処理

			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 行く手を塞いでいた精霊たちを散らすと、道の中央に緑色の原石が落ちていた。
				WSTR:(K++) = この原石の魔力に精霊たちは引き寄せられていたのだろう。
				KSTR:(K++) = 放置していてはまた精霊が集まってしまう。危ないので回収して、魔力を封印しておこう。_PAGE
				WSTR:(K++) = %CALLNAME:PLAYER%は宝晶原石を１個手に入れた！
				CALL 素材入手処理("宝晶原石", 1)
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:1:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:1:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:2:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:2:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:3:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:3:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:5:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:5:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:6:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:6:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:7:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:7:ランダムエネミーフラグ = 19
			敵BATTLE_STATE_STR:9:エネミー名 = Lv2_風のエレメンタル
			敵BATTLE_STATE:9:ランダムエネミーフラグ = 19
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_34_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 34
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "36_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "35_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 「この先土砂崩れ、注意！！」と書かれた大きな看板が立っている。
			WSTR:(K++) = また、右方向には工事業者用の滞在小屋があるようだ。
			WSTR:(K++) = 麓の巫女さんの話だと、谷底を経由して土砂崩れの向こうに行けるとの話だったが……
			WSTR:(K++) = 工事業者ならどこから進めばいいかを知っているかもしれない。話を聞いてみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 「この先土砂崩れ、注意！！」と書かれた大きな看板が立っている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_34_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 34
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		SIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 5) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "34_8")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 5)
			;通れるイベント後
			KSTR:(K++) = 頂上への迂回ルートに繋がる崖だ。
		ELSEIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 4) == 0
			;まだフラグ立ってない
			WSTR:(K++) = 道脇の崖に、特徴的な形の岩が転がっている。
			WSTR:(K++) = 見ようによってはスペードの形のようにも見える、妙な岩だ。
		ELSEIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 4)
			;ここだぜ！イベント
			WSTR:(K++) = 道脇の崖に、スペードの形の岩が転がっている。
			WSTR:(K++) = 地形の関係でわかりにくかったが、ここから風のマントで降りることができそうだ。
			WSTR:(K++) = 工事現場で聞いてきた迂回ルートは恐らくここだろう。
			WSTR:(K++) = 実際に飛び降りて進んでみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 5
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_34_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 34
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖下へと飛び降りる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(52, 0)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 52
		ダンジョン現在位置:1 = 0
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_35_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 35
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "37_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 工事業者用の滞在小屋があった。
			WSTR:(K++) = 太い木で組まれていて、とても一時的な小屋には思えないほどしっかりしている。
			WSTR:(K++) = 入口には休憩しているらしいドラフの男性がいる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「おん？　なんだお前ら。参拝道は土砂崩れで通行禁止だぞ」
			CALL メッセージ欄表示用関数(,"ドラフの男性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 谷底を経由して登れるルートがあると聞いたのだがご存知無いだろうか、と質問する。
			WSTR:(K++) = ドラフの男性はあー、と納得したような声を出して首を横に振った。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「そういやそんなことを若い奴らが喋ってたな。
			WSTR:(K++) = 　悪ぃが俺は知らねぇから、中の奴らに聞いてみな。
			WSTR:(K++) = 　小屋には勝手に入っていいからよ」
			CALL メッセージ欄表示用関数(,"ドラフの男性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = %CALLNAME:PLAYER%はドラフの男性にお礼を言い、小屋に入ってみることにした。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = ドラフの男性が休憩している。小屋には勝手に入っていいらしい。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_35_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 35
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 山道を進んでいくと、整備されていた道が途切れている。
			WSTR:(K++) = どうやらこちらは山頂へのルートではないようだ。
			WSTR:(K++) = %CALLNAME:PLAYER%が一度戻ろうと踵を返すと……山の上から岩が転がってきた！
			CALL 得意武器所持者検索("銃")
			SIF RESULT == -1
				CALL 得意武器所持者検索("弓")
			LOCAL = RESULT
			IF RESULT >= 0
				WSTR:(K++) = %CALLNAME:LOCAL%は咄嗟に武器を使って岩を攻撃し、落石を逸らした！
			ELSE
				WSTR:(K++) = %CALLNAME:PLAYER%たちは落石によってＨＰが半分になった！
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				CALL 探索中全体ダメージ_ＨＰ_割合(50)
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = よく見ると、道端に「落石注意！」の看板が落ちている。経年劣化で壊れてしまっていたらしい。
			WSTR:(K++) = 手持ちの紐で目立つ位置に看板をくくりつけ、%CALLNAME:PLAYER%たちは早めにこの場を後にした。
		ELSE
			KSTR:(K++) = 「落石注意！」の看板がくくりつけられている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_36_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 36
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "38_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "36_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 土砂崩れを直す工事現場だ。
			WSTR:(K++) = 今は作業員の休憩中なのか、人の気配はない。
			WSTR:(K++) = 道脇に高く積まれた土砂の山に登れば、風のマントを使って下に降りられそうだ。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 道脇に高く積まれた土砂の山に登れば、風のマントを使って下に降りられそうだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_36_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 36
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖下へと飛び降りる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(51, 2)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 51
		ダンジョン現在位置:1 = 2
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_37_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 37
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = お茶を飲んでいるハーヴィンの男性に話を聞いてみた。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「うん？　なんだい君たち。……頂上へのルート？
			KSTR:(K++) = 　わざわざこんな時に本宮に向かうなんて、もの好きだね」_PAGE
			WSTR:(K++) = 「僕もあまり詳しくはないんだけど……
			WSTR:(K++) = 　確か「スペードの形をした岩から飛ぶ」って聞いたことあるよ。
			WSTR:(K++) = 　これで参考になればいいけど」
			CALL メッセージ欄表示用関数(,"ハーヴィンの男性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = %CALLNAME:PLAYER%は話の礼を述べ、ハーヴィンの男性から離れた。
			CALL メッセージ欄表示用関数(,,,0)
			SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 4
		ELSEIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 5) == 0
			KSTR:(K++) = 「やあ。頂上へのルートは見つかった？
			KSTR:(K++) = 　確か「スペードの形をした岩から飛ぶ」って聞いたことあるよ」
			CALL メッセージ欄表示用関数(,"ハーヴィンの男性",,0)
		ELSE
			KSTR:(K++) = ハーヴィンの男性がお茶を飲んで休憩している。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_37_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 37
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "38_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "37_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "37_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 小屋の中に入ると、３人の作業員がのんびりと休憩を取っていた。
			WSTR:(K++) = 頂上へのルートを知らないか、それぞれに話を聞いてみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = ３人の作業員がのんびりと休憩を取っている
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_37_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 37
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 工具を弄っているヒューマンの女性に聞いてみた。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あん？　なんだいあんたら。……頂上へのルート？
			KSTR:(K++) = 　せっかちな奴らだねぇ、工事が終わるまで待てないのかい」_PAGE
			WSTR:(K++) = 「えぇと、地元の参拝客が言うには……
			WSTR:(K++) = 　『この工事現場の近く』だったと思うよ。あたしは興味無いけどね。
			WSTR:(K++) = 　さ、整備の邪魔だよ。散った散った！」
			CALL メッセージ欄表示用関数(,"ヒューマンの女性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = %CALLNAME:PLAYER%は話の礼を述べ、ヒューマンの女性から離れた。
			CALL メッセージ欄表示用関数(,,,0)
		ELSEIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:34:2, 5) == 0
			KSTR:(K++) = 「頂上へのルートはこの工事現場の近くらしいよ。後は自分たちで探しな」
			CALL メッセージ欄表示用関数(,"ヒューマンの女性",,0)
		ELSE
			KSTR:(K++) = ヒューマンの女性が工具の整備をしている。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_38_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 38
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 参拝道は大規模な土砂崩れで完全に埋まってしまっている。
			WSTR:(K++) = 次にどこが崩れるかもわからず、乗り越えて進むのはとても出来なさそうだ。
			WSTR:(K++) = 諦めて別のルートを探そう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 参拝道は大規模な土砂崩れで完全に埋まってしまっている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_38_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 38
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 弁当を食べているエルーンの青年に聞いてみた。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「ん、なんすか？　……あぁ、頂上ルート？
			WSTR:(K++) = 　すんません、俺なんも知らねぇんすよ。高所恐怖症で。
			KSTR:(K++) = 　キレイなお姉ちゃんのいる店なら詳しいんすけどねー」_PAGE
			IF TALENT:PLAYER:性別 == 2
				WSTR:(K++) = 「そっちの情報に興味あるんじゃないすか？
				WSTR:(K++) = 　紹介するんで一緒にどうすか？　なぁに、酒の一杯でも奢ってくれりゃあ……」
			ELSE
				WSTR:(K++) = 「あ、それともキレイなお兄ちゃんのいる店の方がいいっすか？
				WSTR:(K++) = 　あいにくそっちの情報は手持ちにないんすけど、欲しいってんなら調べますよ。
				WSTR:(K++) = 　なぁに、酒の一杯でも奢ってくれりゃあ……」
			ENDIF
			CALL メッセージ欄表示用関数(,"エルーンの青年",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 同じ部屋にいたヒューマンの女性がつかつかと近寄ってきて、エルーンの青年の頭を思いっきり殴った。
			WSTR:(K++) = 「いっっっっってぇ！！！」
			CALL メッセージ欄表示用関数(,"エルーンの青年",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あんたはお客さんにくだらない話ばっかりしてるんじゃないよ！
			WSTR:(K++) = 　さっさと飯食って仕事に戻りな！！」
			CALL メッセージ欄表示用関数(,"ヒューマンの女性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = %CALLNAME:PLAYER%は巻き込まれないうちに話の礼を述べ、エルーンの青年たちから離れた。
			CALL メッセージ欄表示用関数(,,,0)
		ELSE
			KSTR:(K++) = 頭にたんこぶを作ったエルーンの青年が弁当を食べている。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT




@ダンジョンマス情報_風遊ぶ渓谷の参道_41_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 41
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 参拝道は大規模な土砂崩れで完全に埋まってしまっている。
			WSTR:(K++) = 次にどこが崩れるかもわからず、乗り越えて進むのはとても出来なさそうだ。
			WSTR:(K++) = 諦めて谷底のルートから戻ろう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 参拝道は大規模な土砂崩れで完全に埋まってしまっている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_42_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 42
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "41_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "46_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 強風に乗り、崖下から一気に飛び上がることに成功した。
			WSTR:(K++) = 現在位置の高さや周りの地形を見るに、無事に土砂崩れの向こう側に到着したようだ。
			WSTR:(K++) = 星晶獣ティアマトの御社はすぐ近くに見えている。
			WSTR:(K++) = あと少しの道のりだ。頑張ろう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 星晶獣ティアマトの御社がすぐ近くに見えている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_42_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 42
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "42_4")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 55
		ダンジョン現在位置:1 = 2
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_43_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 43
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "45_1")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 御社への道の途中に、ワイバーンが立ちふさがっている。
			WSTR:(K++) = どうやらティアマトから漏れ出る風の魔力を独り占めするために、頂上に近づく者を邪魔しているようだ。
			WSTR:(K++) = ここで退く理由はない。邪魔をするなら蹴散らしてしまおう！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:3:エネミー名 = Lv22_ワイバーン
			敵BATTLE_STATE_STR:5:エネミー名 = Lv22_ワイバーン
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = ワイバーンを撃退した君たちは、地面にきらきらとした粒が落ちていることに気づく。
				WSTR:(K++) = 一粒拾ってみると、風の魔力が結晶化した鉱石粒のようだ。
				WSTR:(K++) = 運良く今の魔物が落としていったものだろう。遠慮なく頂いていこう。
				WSTR:(K++) = %CALLNAME:PLAYER%は「エメラルドダスト」を1個手に入れた！
				CALL 素材入手処理("エメラルドダスト", 1)
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:3:エネミー名 = Lv22_ワイバーン
			敵BATTLE_STATE_STR:5:エネミー名 = Lv22_ワイバーン
			CALL 雑魚敵繰り返し戦闘処理
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_44_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 44
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		SIF ダンジョンクリアフラグ_風遊ぶ渓谷の参道 && ダンジョン内一時変数:7 == 0
			ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
	CASE "マスイベント"
		IF ダンジョンクリアフラグ_風遊ぶ渓谷の参道 == 0
			;立ち絵リソース記録に必要な画像のリソースを生成する
			CALLF 顔グラ表示用文字列関数(キャラ検索("[ガーディアン･オブ･ザ･ウインド]ティアマト"),100,,,1,1)
			LOCALS = %立ち絵リソース記録%
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは山道を登り、頂上の御社に辿り着いた。
			WSTR:(K++) = 境内の中に足を踏み入れた途端、強烈な風が周囲で渦巻く！
			WSTR:(K++) = 風は数秒の間続いたかと思うと……寄り集まって巨大な女性の姿となった！
			WSTR:(K++) = 彼女こそ風を司る星晶獣、ティアマトで間違いないだろう。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「──────」
			CALL メッセージ欄表示用関数(LOCALS,"星晶獣ティアマト",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 鈴を転がしたような音が鳴ったかと思うと、%CALLNAME:PLAYER%の心にティアマトの意思が流れ込んでくる。
			WSTR:(K++) = どうやら彼女は……eraの古い友人らしく、契約者である%CALLNAME:PLAYER%を歓迎してくれているようだ。
			IF 高速船作成済フラグ
				WSTR:(K++) = ならば、と星晶獣eraに勧められてここに来たことを話してみた。
			ELSE
				WSTR:(K++) = ならば話が早い、とここに来た理由である高速船について説明をしてみた。
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「──────♪」
			CALL メッセージ欄表示用関数(LOCALS,"星晶獣ティアマト",,0)
			CALL 口上変数初期化
			WSTR:(K++) = ティアマトは心得たとばかりに微笑むと、%CALLNAME:PLAYER%に風の加護を与える。
			IF 高速船作成済フラグ
				WSTR:(K++) = ティアマトの加護により、リゾートの高速船の性能が上昇した！
				WSTR:(K++) = 高速船によるリゾートの滞在キャラ上限が更に＋１０された！
				KSTR:(K++) = 道具屋に「風の魔石」が追加された！_PAGE
			ELSE
				WSTR:(K++) = ティアマトの加護により、既存の船が高速船へと改良された！
				WSTR:(K++) = その効果により滞在キャラ上限が＋２０された！
				KSTR:(K++) = 道具屋に「風の魔石」が追加された！_PAGE
			ENDIF
			WSTR:(K++) = %CALLNAME:PLAYER%は風の加護を与えてくれたティアマトへ頭を下げ、礼を述べる。
			WSTR:(K++) = しかしティアマトは微笑み、再び鈴の音のような声を発した。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「──────？」
			WSTR:(K++) = どうやら……ティアマトは友人であるeraがいるリゾートに興味があるらしい。
			WSTR:(K++) = 人間大の分体を作るのでリゾートに遊びに行っても良いか、と問いかけてきている。
			CALL メッセージ欄表示用関数(LOCALS,"星晶獣ティアマト",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 客が増える分には拒む理由はない。
			WSTR:(K++) = %CALLNAME:PLAYER%はティアマトにリゾート島の座標を伝え、いつでも歓迎すると告げる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「────♪」
			WSTR:(K++) = 喜んでくれているようだ。きっと近い内にリゾートを訪れてくれるだろう。
			KSTR:(K++) = リゾートに[ガーディアン･オブ･ザ･ウインド]ティアマトが訪れるようになった！_PAGE
			WSTR:(K++) = 更に、ティアマトは戦闘の訓練に付き合ってくれるようだ。
			WSTR:(K++) = もう一度この場所を訪れると、星晶獣ティアマトと戦うことが出来るだろう。
			WSTR:(K++) = 彼女に勝利すれば今までのボスたちと同じように、珍しい報酬を手に入れることが出来るかもしれない。
			WSTR:(K++) = 手の空いた時に訪れてみよう。
			CALL メッセージ欄表示用関数(LOCALS,"星晶獣ティアマト",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 目的を達成した%CALLNAME:PLAYER%はティアマトと別れ、御社を後にする。
			WSTR:(K++) = 風遊ぶ渓谷の参道をクリアしました、帰還します。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			高速船作成済フラグ = 1
			ダンジョンクリアフラグ_風遊ぶ渓谷の参道 = 1
			;即座に反映させるために再計算を呼ぶ
			CALL 滞在可能キャラ数再計算()
			LOCAL = GETCHARA(225)
			CFLAG:LOCAL:招待不可フラグ = 0
			ダンジョン終了状況 = 討伐達成
		ELSEIF ダンジョン内一時変数:7 == 0
			;立ち絵リソース記録に必要な画像のリソースを生成する
			CALLF 顔グラ表示用文字列関数(キャラ検索("[ガーディアン･オブ･ザ･ウインド]ティアマト"),100,,,1,1)
			LOCALS = %立ち絵リソース記録%

			WSTR:(K++) = 「──────」
			CALL メッセージ欄表示用関数(LOCALS,"星晶獣ティアマト",,0)
			CALL 口上変数初期化
			WSTR:(K++) = ティアマトは%CALLNAME:PLAYER%に、訓練を受けに来たのかと問うている。
			WSTR:(K++) = どうしますか？
			KSTR:(K++) = BUTTON_[訓練を受けに来た]
			KSTR:(K++) = BUTTON_[遊びに来ただけ]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[訓練を受けに来た]"
					WSTR:(K++) = %CALLNAME:PLAYER%たちは武器を取り、ティアマトとの戦闘訓練を開始する！
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					敵BATTLE_STATE_STR:0:エネミー名 = Lv24_ティアマト
					CALL 雑魚敵遭遇汎用処理

					IF RESULT == 0
						;勝利時のみ報酬
						CALL 口上変数初期化
						WSTR:(K++) = ティアマトとの戦闘訓練に勝利した！
						KSTR:(K++) = ティアマトは歌うように君たちの力を称え、褒美の品を与えてくれた。_PAGE
						IF !搭載兵器所持チェック("タクティカルポインター")
							;周回プレイをしようとも全体で1個まで
							WSTR:(K++) = 搭載兵器「タクティカルポインター」を手に入れた！
							CALL 汎用搭載兵器取得処理("タクティカルポインター")
						ENDIF
						SELECTCASE RAND:6
							CASE 5
								WSTR:(K++) = 「征伐の指輪・漁」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・漁", 4)
							CASE 4
								WSTR:(K++) = 「征伐の指輪・採」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・採", 4)
							CASE 3
								WSTR:(K++) = 「征伐の指輪・狩」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・狩", 4)
							CASE 2
								WSTR:(K++) = 「征伐の指輪・匠」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・匠", 4)
							CASE 1
								WSTR:(K++) = 「征伐の指輪・鎮」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・鎮", 4)
							CASE 0
								WSTR:(K++) = 「征伐の指輪・祓」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・祓", 4)
						ENDSELECT
						SELECTCASE RAND:6
							CASE 5
								WSTR:(K++) = 「征伐の指輪・漁」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・漁", 3)
							CASE 4
								WSTR:(K++) = 「征伐の指輪・採」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・採", 3)
							CASE 3
								WSTR:(K++) = 「征伐の指輪・狩」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・狩", 3)
							CASE 2
								WSTR:(K++) = 「征伐の指輪・匠」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・匠", 3)
							CASE 1
								WSTR:(K++) = 「征伐の指輪・鎮」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・鎮", 3)
							CASE 0
								WSTR:(K++) = 「征伐の指輪・祓」を手に入れた！
								CALL 汎用指輪取得処理("征伐の指輪・祓", 3)
						ENDSELECT
						CALL メッセージ欄表示用関数(,,,0)
						CALL 口上変数初期化
						CALL 接続ルート全開放処理(マス深度, マス分岐)
						ダンジョン内一時変数:7 = 1
					ENDIF
				CASE "[遊びに来ただけ]"
					WSTR:(K++) = 「──────♪」
					WSTR:(K++) = 歓迎するティアマトと世間話を交わした。
					CALL メッセージ欄表示用関数(LOCALS,"星晶獣ティアマト",,0)
					CALL 口上変数初期化
			ENDSELECT
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_45_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 45
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "44_0")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 御社の入口前まで辿り着くと、中から感じていた星晶獣の気配がより一層強くなった……！
			WSTR:(K++) = あちらもeraの契約者である%CALLNAME:PLAYER%が訪れたことを感じ取っているようだ。
			WSTR:(K++) = 敵意は無いように思えるが、用心に越したことはない。慎重に進もう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 御社から強い星晶獣の気配を感じる。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_46_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 46
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "43_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 道脇の岩に座り、のんびりとお茶を飲んで休憩しているお兄さんがいる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「おや、こんにちは。
			KSTR:(K++) = 　君たちも谷底ルートを通って登ってきたのかい？　やるねぇ」_PAGE
			WSTR:(K++) = 「でも気を付けてね。
			WSTR:(K++) = 　なんだか今日は風が強い。ティアマト様が何かを感じているのかもしれない。
			WSTR:(K++) = 　危ないと思ったら無理せず引き返すんだよ」
			CALL メッセージ欄表示用関数(,"登山家のお兄さん",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 確かに頂上に近づくに連れて風の力が強まってきているように感じる。
			WSTR:(K++) = しかし、どことなくその風は優しい意思が込められているように感じられた……。
			WSTR:(K++) = 忠告してくれるお兄さんにお礼を言い、%CALLNAME:PLAYER%たちは先に進んでいく。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 道脇の岩に座り、のんびりとお茶を飲んで休憩しているお兄さんがいる。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_風遊ぶ渓谷の参道_48_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 48
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "48_5")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底を進むと、小岩に腰掛けて果物をかじる少年を見つけた。
			WSTR:(K++) = 少年は%CALLNAME:PLAYER%たちの姿を見かけると、慌てたように立ち上がる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あっ！　土砂捨て終わってます親方……って、なんだ。参拝客か。
			WSTR:(K++) = 　びっくりさせないでくれよ」
			CALL メッセージ欄表示用関数(,"ドラフの少年",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 口ぶりからして、上の工事現場で働く手伝いをしているのだろう。
			WSTR:(K++) = ここでのんびりしているのは……体よくサボっていたということだろうか。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あっ、告げ口とかしないでくれよ？
			WSTR:(K++) = 　こうやって息抜きしないと工事現場は大変なんだって、本当本当。
			WSTR:(K++) = 　黙っててくれたらいいもんやるからさ、なっ？」
			CALL メッセージ欄表示用関数(,"ドラフの少年",,0)
			CALL 口上変数初期化
			WSTR:(K++) = ドラフの少年は調子よくお願いをしてくるが……。
			WSTR:(K++) = どうしますか？
			KSTR:(K++) = BUTTON_[サボりは悪いことだ。戻らないと報告するぞと告げる]
			KSTR:(K++) = BUTTON_[少しくらいはいいだろう。見逃してあげる]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[サボりは悪いことだ。戻らないと報告するぞと告げる]"
					WSTR:(K++) = ちくしょー！　と悪態をつきながらドラフの少年は上へと戻っていった。
					WSTR:(K++) = 真面目に働いた方が後々は良い方向に転がるものだ。……ということをあの少年がわかってくれればいいが。
					WSTR:(K++) = %CALLNAME:PLAYER%たちは少年を見送り、探索へと戻る。
				CASE "[少しくらいはいいだろう。見逃してあげる]"
					WSTR:(K++) = たまの息抜きは誰にだって必要だ。
					WSTR:(K++) = 自分たちは工事関係者でもないし、少しくらいは見逃してあげよう。
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					IF TALENT:PLAYER:性別 == 2
						WSTR:(K++) = 「やった！　恩に着るぜ兄ちゃん！
					ELSE
						WSTR:(K++) = 「やった！　恩に着るぜ姉ちゃん！
					ENDIF
					WSTR:(K++) = 　そうそう、いいもんのことだけど。この岩と岩の隙間からちょっと広い場所に行けるんだ。
					KSTR:(K++) = 　そこの崖壁には星晶が埋まってるんだぜ！」_PAGE
					WSTR:(K++) = 「俺じゃ売り方もわかんねぇから掘り出さなかったけど、よかったら持ってってくれよ
					WSTR:(K++) = 　どうせこの谷底から取れるもんなんて誰のものでもねぇからさ」
					CALL メッセージ欄表示用関数(,"ドラフの少年",,0)
					CALL 口上変数初期化
					WSTR:(K++) = いいことを教えてもらった。早速奥へ行ってみよう。
					WSTR:(K++) = %CALLNAME:PLAYER%はドラフの少年にお礼を言って別れた。
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					CALL 接続ルート全開放処理(マス深度, マス分岐)
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
			SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
		ELSE
			KSTR:(K++) = ドラフの少年はもういないようだ。
			KSTR:(K++) = 真面目に働いているのか、別の場所でサボっているのかはわからないが。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_48_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 48
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = ドラフの少年から教えてもらった隙間を通ると、少し開けた岩場に出た。
			WSTR:(K++) = 岩壁のところどころから、きらきらと光るものが見える……あれが話してくれた星晶とやらだろう。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは使えそうな塊を掘り出していく……。
			KSTR:(K++) = %CALLNAME:PLAYER%は「星晶塊」を３個手に入れた！_PAGE
			WSTR:(K++) = なんと塊の状態での星晶を手に入れることが出来た！
			WSTR:(K++) = これを使えば仲間の経験値を大きく増やすことが出来るだろう。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは満足してこの場を後にする。
			CALL 素材入手処理("星晶塊", 3)
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = もう岩場にはめぼしいものは残っていない。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_48_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 48
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = こちら側は岩が少なく、見通しも良くなっているようだ。
			WSTR:(K++) = 整備されているというより、大きなものが無理やり通っていったような印象を受けるが……。
			WSTR:(K++) = ともあれ、これだけでは何もわからない。先に進んでみよう。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(15, 7)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 15
		ダンジョン現在位置:1 = 7
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_49_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 49
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "49_2")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 18
		ダンジョン現在位置:1 = 8
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_49_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 49
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "50_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "49_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = フライングおじさんの言葉通り飛び降りてみると、無事に谷底に着地することが出来た。
			WSTR:(K++) = 崖からの飛び降りはスリルと爽快感があり、なかなか楽しい体験だ。
			WSTR:(K++) = より安全に、より手軽に飛び降りを楽しめる施設があると観光客に人気が出るかもしれない。
			WSTR:(K++) = いずれ使える時が来るかもしれない、と%CALLNAME:PLAYER%は覚えておくことにした。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 崖からの飛び降りはなかなかに楽しい。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_49_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 49
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "50_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底は岩や地形で進みにくく、細かく道が途切れているようだ。
			WSTR:(K++) = 中にはどこかに繋がる道になっている場所もあるかもしれないが、
			WSTR:(K++) = 基本的には降りた場所からそう遠くへは行けないようになっているだろう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 谷底は岩や地形で進みにくく、細かく道が途切れている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_50_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 50
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		SIF ダンジョン内一時変数:2 == 0
			ダンジョンマス画像URL_重ね表示 = えっちハート
	CASE "接続先"
	CASE "マスイベント"
		;えっちイベ
		;XXXXを使ってないダンジョン内一時変数の番号に変えること
		IF ダンジョン内一時変数:2
		ELSE
			CALL ダンジョンハプニング基本処理()
			IF RESULT
				ダンジョン内一時変数:2 = 1
			ENDIF
			CALL 口上変数初期化
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_50_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 50
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底を進むと、道の行き止まりに一人の女性が困った顔で座り込んでいた。
			WSTR:(K++) = どうしたのかと%CALLNAME:PLAYER%が声を掛けると、女性はぱっと顔を輝かせる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「あぁ、よかった！　人が来てくれた！
			WSTR:(K++) = 　谷底を歩いてる時、うっかりマントを強風に飛ばされちゃって……
			KSTR:(K++) = 　上の道に上がれなくて困ってたの！」_PAGE
			WSTR:(K++) = 「お礼はするから、上まで連れてってくれないかしら？」
			CALL メッセージ欄表示用関数(,"ハーヴィンの女性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = わざわざ断る理由もない。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは快く了承し、女性を抱えて山の上まで飛び上がる。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			ダンジョン現在位置:0 = 18
			ダンジョン現在位置:1 = 8
			CALL 画面再描画
			WSTR:(K++) = 「本当にありがとう！　あのまま谷底で夜を明かすしかないかと思ってたわ！
			WSTR:(K++) = 　それじゃあ約束のお礼に、これをあげるわ。
			WSTR:(K++) = 　私にはよくわからないけど、騎空士さんには人気の耳飾りらしいわよ」
			CALL メッセージ欄表示用関数(,"ハーヴィンの女性",,0)
			CALL 口上変数初期化
			WSTR:(K++) = ハーヴィンの女性は荷物の中から一対の耳飾りを取り出し、%CALLNAME:PLAYER%に渡した。
			WSTR:(K++) = 朝顔の花をあしらった耳飾りからは、強い火の力を感じる。
			KSTR:(K++) = この参拝道を登る時にうってつけの装備だろう。_PAGE
			KSTR:(K++) = %CALLNAME:PLAYER%は「朝顔の耳飾り」を手に入れた！_PAGE
			WSTR:(K++) = 帰路に着いたハーヴィンの女性を見送り、%CALLNAME:PLAYER%たちは山登りを再開する。
			CALL 汎用耳飾り取得処理("朝顔の耳飾り")
		ELSE
			KSTR:(K++) = 道はここで行き止まりのようだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_50_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 50
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "50_7")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 26
		ダンジョン現在位置:1 = 8
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_50_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 50
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "48_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "52_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "51_6")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 周囲は岩に阻まれ、幾つかの道に別れている。
			WSTR:(K++) = 谷底には珍しく、長く伸びている道があるようだ。
			WSTR:(K++) = 頂上へのルートとは違う道だろうが、興味があるなら少し探検してみてもいいかもしれない。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 周囲は岩に阻まれ、幾つかの道に別れている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_50_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 50
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = ピクシーに連れられて奥に足を踏み入れると、そこは色とりどりの花が咲く花畑だった。
			KSTR:(K++) = ピクシーたちが世話をしているのだろうか。満開の花々が見事に咲き誇っている。_PAGE
			WSTR:(K++) = 思わぬ絶景に心を奪われていると、先程のピクシーが幾つかの花を摘んで何かを作っている。
			WSTR:(K++) = ……これは花で編んだ冠のようだ。
			WSTR:(K++) = 出来上がった花の冠を、ピクシーは%CALLNAME:PLAYER%の頭にそっと乗せてくれる。
			WSTR:(K++) = 先ほどのお礼のつもりなのだろう。素敵な贈り物だ、素直に受け取っておこう。
			KSTR:(K++) = %CALLNAME:PLAYER%は「花で作られた冠」を手に入れた！_PAGE
			WSTR:(K++) = 思わぬ出会いをした%CALLNAME:PLAYER%たちはピクシーたちに別れを告げ、元の道に戻っていく。
			CALL 素材入手処理("花で作られた冠", 1)
		ELSE
			KSTR:(K++) = 花畑では満開の花々が見事に咲き誇っている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_51_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 51
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "51_4")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 36
		ダンジョン現在位置:1 = 8
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_51_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 51
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "48_4")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 谷底を進むと、頭上から何かが転がる音が聞こえてきた。
			IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:52:6, 4) == 0
				WSTR:(K++) = 落石だろうか。%CALLNAME:PLAYER%たちはその場で止まり、上を見上げる。
				WSTR:(K++) = ……いや、あれは岩ではない。体を丸めて崖を転がり落ちてくる魔物の群れだ！
			ELSE
				WSTR:(K++) = この音は……！　%CALLNAME:PLAYER%は素早く上を見上げる。
				WSTR:(K++) = 思った通り。ボールアニマルの群れだ！
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)

			敵BATTLE_STATE_STR:0:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:1:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:4:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:5:エネミー名 = Lv19_ボールアニマル
			CALL 雑魚敵遭遇汎用処理

			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:52:6, 4) == 0
					WSTR:(K++) = 転がる魔物を撃退し、周囲に他の魔物がいないことを確認する。
					WSTR:(K++) = あの魔物はああやって獲物を奇襲して狩りを行うらしい。
					WSTR:(K++) = 谷底では前後左右だけでなく、頭上にも注意が必要そうだ。気を付けて進もう。
				ELSE
					WSTR:(K++) = 谷底は上から転がってきやすいからか、ボールアニマルが多く生息しているようだ。
					WSTR:(K++) = 奇襲を受けないように、何かが転がる音には注意していこう。
				ENDIF
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:1:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:4:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:5:エネミー名 = Lv19_ボールアニマル
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_51_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 51
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 谷底に美味しそうな果実を付けた樹木を見つけた。
			WSTR:(K++) = 小腹も空いているし、少し貰おうと樹木に近づくと……木の裏に巨大な蜂の巣を見つけた！
			WSTR:(K++) = ここまで大きな蜂だと人間も襲うだろう。駆除をしておいた方が良さそうだ。
			WSTR:(K++) = %CALLNAME:PLAYER%たちは武器を構える！
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:2:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:3:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:4:エネミー名 = Lv20_ウィンドビークイーン
			敵BATTLE_STATE_STR:5:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:6:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:7:エネミー名 = Lv17_ウィンドビー
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 蜂を追い払い、巣を砕く。
				WSTR:(K++) = これで通りがかった人が襲われることもないだろう。
				WSTR:(K++) = 働いたついでに果実をいくつか貰っていくとしよう。
				WSTR:(K++) = %CALLNAME:PLAYER%は「りんご」を３個手に入れた！
				CALL 素材入手処理("りんご", 3)
				CALL メッセージ欄表示用関数(,,,0)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:3:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:4:エネミー名 = Lv20_ウィンドビークイーン
			敵BATTLE_STATE_STR:5:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:7:エネミー名 = Lv17_ウィンドビー
			敵BATTLE_STATE_STR:8:エネミー名 = Lv17_ウィンドビー
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_52_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 52
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "52_4")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 34
		ダンジョン現在位置:1 = 8
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_52_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 52
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "52_6")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 情報が正しいならこのルートが頂上へ上がるポイントに繋がっているらしい。
			WSTR:(K++) = だが周囲は崖や岩で視線が通らず、実際に進んでみる以外に確かめる方法はなさそうだ。
			WSTR:(K++) = 迷わないように気をつけながら進んでいこう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 周囲は崖や岩で見通しが悪い。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_52_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 52
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "53_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "54_6")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 谷底を進むと、頭上から何かが転がる音が聞こえてきた。
			IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:51:4, 4) == 0
				WSTR:(K++) = 落石だろうか。%CALLNAME:PLAYER%たちはその場で止まり、上を見上げる。
				WSTR:(K++) = ……いや、あれは岩ではない。体を丸めて崖を転がり落ちてくる魔物の群れだ！
			ELSE
				WSTR:(K++) = この音は……！　%CALLNAME:PLAYER%は素早く上を見上げる。
				WSTR:(K++) = 思った通り。ボールアニマルの群れだ！
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)

			敵BATTLE_STATE_STR:0:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:2:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:5:エネミー名 = Lv19_ボールアニマル
			CALL 雑魚敵遭遇汎用処理

			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:51:4, 4) == 0
					WSTR:(K++) = 転がる魔物を撃退し、周囲に他の魔物がいないことを確認する。
					WSTR:(K++) = あの魔物はああやって獲物を奇襲して狩りを行うらしい。
					WSTR:(K++) = 谷底では前後左右だけでなく、頭上にも注意が必要そうだ。気を付けて進もう。
				ELSE
					WSTR:(K++) = 谷底は上から転がってきやすいからか、ボールアニマルが多く生息しているようだ。
					WSTR:(K++) = 奇襲を受けないように、何かが転がる音には注意していこう。
				ENDIF
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:2:エネミー名 = Lv19_ボールアニマル
			敵BATTLE_STATE_STR:5:エネミー名 = Lv19_ボールアニマル
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_52_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 52
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 谷底に砕けた石板のようなものが落ちている。
			WSTR:(K++) = かなり古いもののようだ……数百年は経っているだろう。
			CALL 知識技能所持者検索("歴史知識", 1)
			LOCAL = RESULT
			IF LOCAL > -1 && CSTR:LOCAL:出演作品 == ""
				WSTR:(K++) = %CALLNAME:PLAYER%が無事な部分の文字を読取ることに成功した。
				WSTR:(K++) = 文意に沿って並べると、おおよそ以下のような文章になる。
				KSTR:(K++) = 「星の民、快楽の獣を────、しかし──────封印────
				KSTR:(K++) = 　────決して起こしては──────空の崩壊────」_PAGE
				WSTR:(K++) = ……これ以上の文章を読み取ることは難しそうだ。
				WSTR:(K++) = %CALLNAME:PLAYER%たちは解読を諦め、探索に戻る。
				SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
			ELSE
				WSTR:(K++) = 文字の様式が古く、砕けていることもあってうまく解読出来なかった。
				WSTR:(K++) = 空の世界の歴史について知識があれば読むことが出来そうだが……。
			ENDIF
		ELSE
			KSTR:(K++) = 谷底に砕けた石板のようなものが落ちている。
			KSTR:(K++) = 「星の民、快楽の獣を────、しかし──────封印────
			KSTR:(K++) = 　────決して起こしては──────空の崩壊────」とだけ読み取れるようだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_52_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 52
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		SIF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "50_8")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 細い道を進んでいくと、左右の岩壁に無数の穴が空いているのを見つける。
			WSTR:(K++) = なんの穴だろうかと覗き込んでみると、中には精霊系魔物の一種であるピクシーが住んでいた！
			KSTR:(K++) = 咄嗟に%CALLNAME:PLAYER%たちは武器を構えるが……ピクシーたちの様子がおかしい。_PAGE
			WSTR:(K++) = こちらに敵意はなく、物珍しがっているような様子で%CALLNAME:PLAYER%たちの周囲を飛び回っている。
			WSTR:(K++) = 辺鄙な場所に住んでいるせいか、人間に対する害意を持っていないようだ。
			KSTR:(K++) = ピクシーたちは特に、君たちの食料に興味を持っているように見える……。_PAGE
			WSTR:(K++) = どうしますか？
			KSTR:(K++) = BUTTON_[食べ物を少しわけてあげる]
			KSTR:(K++) = BUTTON_[いや、魔物は魔物。気を許すのは危険だ]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[食べ物を少しわけてあげる]"
					WSTR:(K++) = %CALLNAME:PLAYER%たちは手持ちの食料をピクシーたちに分けてあげた。
					WSTR:(K++) = ピクシーたちは喜び、食べ物をかじりながら宙をくるくると飛び回っている。
					KSTR:(K++) = そのうち、ピクシーたちの中でも大きめの一体が%CALLNAME:PLAYER%の手を引っ張ってきた。_PAGE
					WSTR:(K++) = どうやら道の奥へ案内しようとしているらしい。
					WSTR:(K++) = 相変わらずこちらへの敵意は感じられない。少しお邪魔してもいいかもしれない。
					CALL 接続ルート全開放処理(マス深度, マス分岐)
					SETBIT ダンジョン構造配列_風遊ぶ渓谷の参道:マス深度:マス分岐, 4
				CASE "[いや、魔物は魔物。気を許すのは危険だ]"
					WSTR:(K++) = いくら人懐っこく見えても魔物は魔物だ。油断させて襲う作戦かもしれない。
					WSTR:(K++) = ここは引き返そう。
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
		ELSE
			KSTR:(K++) = ピクシーたちが平和に暮らしている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_53_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 53
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "54_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "54_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "53_3")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 30
		ダンジョン現在位置:1 = 8
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_53_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 53
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = いえーい！　と若者の集団が風のマントを付けた状態で盛り上がっている。
			WSTR:(K++) = 飛び降りを楽しみに来た観光客の一団だろう。
			WSTR:(K++) = 周囲にテントや焚き火を広げ、ここで宿を取るつもりのようだ。
			WSTR:(K++) = 楽しみを邪魔しては悪い。別の場所を探索しよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = いえーい！　と若者の集団が風のマントを付けた状態で盛り上がっている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_53_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 53
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 岩の影を覗いてみると、魔物のフンや兎の骨が散乱している場所を見つけた。
			WSTR:(K++) = 先ほどの転がる魔物の巣だろう。幸い、先ほど撃退した群れ以外の魔物はいないようだ。
			WSTR:(K++) = 遺物がないだろうかと軽く見回ってみるが、人間が食べられたような痕跡はない。
			WSTR:(K++) = 被害がなくてとりあえずは安心だろう。%CALLNAME:PLAYER%たちは魔物の巣を後にする。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 魔物のフンや兎の骨が散乱している
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_54_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 54
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底を進むと、岩の影に隠れた数ｍほどの浅い洞窟を見つけた。
			WSTR:(K++) = 洞窟の中を覗き込むと、壊れかけた椅子や幾つかの玩具が置かれている。
			WSTR:(K++) = どうやら地元の子どもたちの秘密基地になっているようだ。
			WSTR:(K++) = ボロボロになったエロ本も見つけた……そっとしておこう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 洞窟がある。地元の子どもたちの秘密基地になっているようだ。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_54_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 54
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底に魔物避けの効果がある樹木が植えられている。
			WSTR:(K++) = 効果範囲は狭いが、魔物が嫌がる匂いを出す香木だ。
			WSTR:(K++) = 観光客向けの飛び降り場所が安全になるように植えているのだろう。
			WSTR:(K++) = うっかり枝を折ったりしてもいけない。あまり触らないようにしよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 谷底に魔物避けの効果がある樹木が植えられている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_54_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 54
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "55_5")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = この近辺は他の谷底と比べて道が慣らされているように見える。
			WSTR:(K++) = %CALLNAME:PLAYER%たちの他にも、たまに参拝客が通るのだろう。
			WSTR:(K++) = 魔物が出る上に大回りで不便な道だが、それでもティアマトに詣るため通う人はいるようだ。
			WSTR:(K++) = うちの星晶獣とは大違いだな、と思いながら%CALLNAME:PLAYER%たちは先に進む。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = この近辺は他の谷底と比べて道が慣らされているように見える。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_54_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 54
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "52_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底に降りた先は細い道が続いている。
			WSTR:(K++) = 横に二人並ぶことも難しく、縦に並んで歩いていく必要がありそうだ。
			WSTR:(K++) = 退路を失わないよう、周囲に気を配りながら進もう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 谷底に降りた先は細い道が続いている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_風遊ぶ渓谷の参道_55_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 55
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%たちは風のマントを纏い、強風に乗って崖の上へと飛び上がる！
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(42, 8)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 42
		ダンジョン現在位置:1 = 8
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_55_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 55
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "55_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 谷底を進んだ道の先に特徴的な地形が見える。
			WSTR:(K++) = 人を持ち上げるほどの強風が集まる場所……風のマントが使える地形だ。
			WSTR:(K++) = この先が頂上への道に繋がるルートだろう。早速上に上がってみよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 谷底を進んだ道の先に風のマントが使える地形が見える。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_風遊ぶ渓谷の参道_55_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 55
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_草原
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "54_8")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 29
		ダンジョン現在位置:1 = 8
		CALL 画面再描画
ENDSELECT

