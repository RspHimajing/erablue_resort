;****************************************
;コマンド実行後に表示される文章
;該当のキャラが「TARGET」の時に呼ばれる
;****************************************
;・使い方
;「XXXX」をキャラクター番号に置換、コマンド番号の所に任意のコマンド番号を入れ、中身に処理を記述する
;テンプレート中にある分岐は例示としておいてあるものなので、必要な場合は各自でコピペをお願いします
;****************************************
;・わかりづらい変数
;・コマンド実行による各部位の快楽量
	;CUP:対象キャラ:快Ｃ
	;CUP:対象キャラ:快Ｖ
	;CUP:対象キャラ:快Ａ
	;CUP:対象キャラ:快Ｂ
	;CUP:対象キャラ:快Ｓ

;TCVAR:対象キャラ:弱点コマンドフラグ
	;該当コマンドが弱点かどうか
	;現在弱点コマンドをゲーム中に変更する手段は無く、パラメータ設定ファイルで指定するか、指定の無い場所は開始時にランダムで決定される
	;口上テンプレートのパラメータ設定ファイルで全部弱点指定してしまえば弱点コマンドフラグで分岐する必要がない

;コマンド初回実行
	;IF STRFIND(コマンド初回フラグ:対象キャラ:0, @"-コマンド番号-") < 0
	;コマンド番号は任意に変更のこと

;--------------------------------------------------
;COM300_会話
;--------------------------------------------------
;RFLAG:コマンド結果受渡し変数
	;-1:失敗  0:通常成功  1:大成功	-2:会話しすぎで大失敗
	;-2の場合は会話出来なかった扱いなので何も言わないのがいいかも
;ABL:MASTER:話術技能によって効果上昇

@KOJO_COM_2831_300(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE -2
		;大失敗、会話系コマンドを連打しすぎて話題が尽きてしまったパターン
		SELECTCASE RAND:3
			CASE 0
				WSTR:(K++) = 「うん？」
			CASE 1
				WSTR:(K++) = 「何か聞こえた気がしたが……」
			CASE 2
				WSTR:(K++) = 「そろそろ雑務が溜まっているんじゃないか？」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%に話しかけようとしたが、うまく言葉にならなかった
	CASE -1
		;失敗
		SELECTCASE RAND:4
			CASE 0
				WSTR:(K++) = 「わたしに世間話を期待されてもな……」
			CASE 1
				WSTR:(K++) = 「何か用か？　何もないのなら、見回りに戻りたいのだが」
			CASE 2
				WSTR:(K++) = 「悪いが、馴れ合うつもりはない」
			CASE 3
				WSTR:(K++) = 「世間話にせよ相談事にせよ、他を当たってくれ」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%は会話に応じる気はなさそうだ
	CASE 0
		;通常成功
		SELECTCASE RAND:6
			CASE 0
				WSTR:(K++) = 「この島は賑やかだな……いや、嫌いではないさ」
			CASE 1
				WSTR:(K++) = 「期待に沿えるような話は……そうだな、以前陸奥様が……」
			CASE 1
				WSTR:(K++) = 「ほう、そんなことが……」
			CASE 3
				WSTR:(K++) = 「長門様にはもうお会いになったか？　あの方は……」
			CASE 4
				WSTR:(K++) = 「オーナーも探索に出るのか？」
				WSTR:(K++) = 「良ければわたしが剣道を教えても……いいのか」
			CASE 5
				WSTR:(K++) = 「釣りはいいぞ。頭を空っぽにしていられる」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%ととりとめのない話をした
	CASEELSE
		;大成功
		SELECTCASE RAND:6
			CASE 0
				WSTR:(K++) = 「この島は賑やかだな……ああ、悪くない」
			CASE 1
				WSTR:(K++) = 「この島で穏やかに過ごしていたお陰で、見えてきたものもある」
			CASE 2
				WSTR:(K++) = 「なるほどな……長門様へのいい土産話になる」
			CASE 3
				WSTR:(K++) = 「お前も苦労しているのだな……」
			CASE 4
				WSTR:(K++) = 「剣道に興味があるのか？　ならわたしが……やらないのか」
			CASE 5
				WSTR:(K++) = 「オーナー、この島でいい釣り堀を見付けた。今度一緒に行こうか」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%ととりとめのない会話を楽しんだ
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;COM301_お茶を淹れる
;--------------------------------------------------
;RFLAG:コマンド結果受渡し変数
	;-1:失敗  0:通常成功  1:大成功
;その場にいる全員が対象だが、口上は対面している相手のみ

@KOJO_COM_2831_301(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE -1
		;失敗
		SELECTCASE RAND:4
			CASE 0
				WSTR:(K++) = 「…………」
			CASE 1
				WSTR:(K++) = 「……わたしの口には合わないな」
			CASE 2
				WSTR:(K++) = 「……ぬるい」
			CASE 3
				WSTR:(K++) = 「粗茶だな」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%は黙々とお茶を飲んでいるが、よく見れば眉間に皺が寄っている
	CASE 0
		;通常成功：失敗に見えるけど成功
		SELECTCASE RAND:4
			CASE 0
				WSTR:(K++) = 「中々の手前だ」
			CASE 1
				WSTR:(K++) = 「落ち着くな……」
			CASE 2
				WSTR:(K++) = 「む、差し入れか。ありがとう」
			CASE 3
				WSTR:(K++) = 「紅茶には慣れないな……ああ、オーナーが悪いわけじゃない。気にするな」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%とお茶を楽しんだ
	CASEELSE
		;大成功
		SELECTCASE RAND:4
			CASE 0
				WSTR:(K++) = 「茶柱が……」
			CASE 1
				WSTR:(K++) = 「オーナー、この茶葉はどこで売っている？　個人用に欲しい」
			CASE 2
				WSTR:(K++) = 「茶を飲んで落ち着く時間は、嫌いじゃない」
			CASE 3
				WSTR:(K++) = 「ほう……紅茶だが、この味はいいな。好みだ」
		ENDSELECT
		WSTR:(K++) = %CALLNAME:対象キャラ%とお茶を楽しんだ
		KSTR:(K++) = ……よく見ると%CALLNAME:対象キャラ%の尻尾が楽し気に揺れていた
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;COM302_スキンシップ
;--------------------------------------------------
;RFLAG:コマンド結果受渡し変数
	;-1:失敗  0:通常成功  1:大成功

@KOJO_COM_2831_302(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE -1
		;失敗
		SELECTCASE RAND:4
			CASE 0
				WSTR:(K++) = 「つまらないことを……」
			CASE 1
				WSTR:(K++) = 「その不埒な手を叩き斬ってやろうか？」
			CASE 2
				WSTR:(K++) = 「誰にでもこんなことをしているのか？」
			CASE 3
				WSTR:(K++) = 「同じことを長門様にすれば命はないぞ」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%に触れようとした手を振り払われ、冷ややかな視線を向けられた
	CASE 0
		;通常成功
		SELECTCASE RAND:5
			CASE 0
				WSTR:(K++) = 「わたしに触って何が楽しいんだ？」
			CASE 1
				WSTR:(K++) = 「島や訪問客には気の弱い娘も多い。相手は選べよ」
			CASE 2
				WSTR:(K++) = 「む、急に撫でるな」
			CASE 3
				WSTR:(K++) = 「その、尻尾はあまり……」
			CASE 4
				WSTR:(K++) = 「急に抱き着くな。剣を抜きかけた」
		ENDSELECT
		KSTR:(K++) = とやかく言いながらも、%CALLNAME:対象キャラ%は%CALLNAME:PLAYER%の手を受け入れている
	CASEELSE
		;大成功
		SELECTCASE RAND:4
			CASE 0
				WSTR:(K++) = 「楽しそうだな、オーナー。ああ、わたしも楽しい」
			CASE 1
				WSTR:(K++) = 「わたしに触れるのはいいが……誰にでもこんなことをするなよ」
			CASE 2
				WSTR:(K++) = 「お前の手は暖かいな。心が落ち着く」
			CASE 3
				WSTR:(K++) = 「尻尾に触れるのはいいが、あまり力は入れないでほしい」
			CASE 4
				WSTR:(K++) = 「なんだ、わたしの刀が気になるのか？」
		ENDSELECT
		KSTR:(K++) = %CALLNAME:対象キャラ%も%CALLNAME:PLAYER%とのスキンシップを完全に受け入れているようだ
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)
