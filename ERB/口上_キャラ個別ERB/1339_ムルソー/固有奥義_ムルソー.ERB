
@固有奥義_1339(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 奥義威力
#DIMS 奥義名
#DIM 追加効果量A
#DIM 追加効果量B

;スタイルによる奥義の変更部分、スタイル変化_キャラ名.ERBを参照
; IF CSTR:キャラ番号:スタイル管理文字列 == "任意のスタイル名"
; 	CALL 任意のスタイル名固有奥義(ARGS, キャラ番号)
; 	RETURN RESULT
; ENDIF

; Lv30以上で強化
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	奥義名 = 他人の鎖＜解析Ⅳ＞
	奥義威力 = 440
	追加効果量A = 50
	追加効果量B = 30
ELSE
	奥義名 = 他人の鎖
	奥義威力 = 360
	追加効果量A = 30
	追加効果量B = 20
ENDIF

;奥義威力を0にした場合、通常の奥義処理は行われず奥義追加効果のみが行われる。
;全体攻撃にしたい時や、攻撃しない奥義を作る場合は0に設定のこと


;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
;これらを使わない場合は「誰を攻撃しますか？」と表示される。
;アビ汎用文字列:選択時メッセージ１ = 
;アビ汎用文字列:選択時メッセージ２ = 
;アビ汎用文字列:選択時メッセージ３ = 
;アビ汎用文字列:選択時メッセージ４ = 

;下の４つの文字列に文章を入れると、奥義使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の奥義：（奥義名）！」と表示される。
アビ汎用文字列:実行時メッセージ１ = 腕に鎖を形成し、敵へ投射する！
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30 || RAND:2
	アビ汎用文字列:実行時メッセージ２ = 「この鎖をこれ以上維持するのは難しいですので
	アビ汎用文字列:実行時メッセージ３ = 　対象の素早い無力化が要求されます。」
ELSE
	アビ汎用文字列:実行時メッセージ２ = 「数多のものが締め付けてくる…。」
ENDIF
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = %奥義名%
	CASE "奥義説明文"
		詳細文文字列受け渡し変数 = 奥義威力：{奥義威力}％
		詳細文文字列受け渡し変数 += @"<br>対象に攻撃・行動速度ダウン効果［{追加効果量A}％/2ターン］"
		詳細文文字列受け渡し変数 += @"<br>自身に攻撃・行動速度ダウン効果［{追加効果量B}％/2ターン］"
		詳細文文字列受け渡し変数 += @"<br>自身に被ダメージ減少効果［{追加効果量A}％/2ターン］"
		RETURN 奥義威力
	CASE "奥義前効果"
		;対象決定の後、ダメージよりも前に発生する効果。基本の奥義ダメージ部分は記載する必要はない。
		;奥義威力が0だとここの部分もスキップされる

		;処理の都合上、ここから奥義ダメージまでにリセットを噛ませてないため
		;必要な場合を除きここでリセット
		CALL アビ汎用変数文字列リセット
	CASE "奥義追加効果"
		;対象への効果
		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 追加効果量A
		アビ汎用文字列:バフ・デバフ枠 = %奥義名%_攻撃力
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 2
		アビ汎用変数:基礎成功確率 = 100
		CALL アビテンプレート_不利効果_デバフ効果セット
		
		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 追加効果量A
		アビ汎用文字列:バフ・デバフ枠 = %奥義名%_行動速度
		アビ汎用文字列:バフ・デバフ対象能力 = 行動速度
		アビ汎用変数:持続ターン = 2
		アビ汎用変数:基礎成功確率 = 100
		CALL アビテンプレート_不利効果_デバフ効果セット
		
		;自身への効果
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果割合 = 追加効果量B
		アビ汎用文字列:バフ・デバフ枠 = %奥義名%_攻撃力
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 2
		アビ汎用変数:基礎成功確率 = 100
		CALL アビテンプレート_不利効果_デバフ効果セット
		
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果割合 = 追加効果量B
		アビ汎用文字列:バフ・デバフ枠 = %奥義名%_行動速度
		アビ汎用文字列:バフ・デバフ対象能力 = 行動速度
		アビ汎用変数:持続ターン = 2
		アビ汎用変数:基礎成功確率 = 100
		CALL アビテンプレート_不利効果_デバフ効果セット
		
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果割合 = 追加効果量B
		アビ汎用文字列:バフ・デバフ枠 = %奥義名%_被ダメージ減少
		アビ汎用文字列:バフ・デバフ対象能力 = 被ダメージ
		アビ汎用変数:持続ターン = 2
		アビ汎用変数:基礎成功確率 = 100
		CALL アビテンプレート_有利効果_バフ効果セット
ENDSELECT
