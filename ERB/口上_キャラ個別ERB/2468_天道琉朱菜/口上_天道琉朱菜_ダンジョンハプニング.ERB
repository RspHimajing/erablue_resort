;****************************************
;ダンジョン探索中にダンジョンハプニングを踏んだとき表示される文章
;****************************************
;・使い方
;「2468」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;****************************************

;--------------------------------------------------
;「スカート捲れ」時
;--------------------------------------------------
@KOJO_ハプニング_スカート捲れ_2468(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)


SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE 1
		;拒絶
		WSTR:(K++) = ｢わっ？｣
		WSTR:(K++) = 意表を突かれた_呼び名_は大した反応も出来ずに股を曝け出している……。
	CASE 2
		;受入れ
		WSTR:(K++) = ｢もー……｣
		WSTR:(K++) = _呼び名_は_主人_へ何か言いたげにしながらも恥ずかしそうに服を整えている……。
	CASE 3
		;喜び
		IF TALENT:対象キャラ:恋慕
			WSTR:(K++) = ｢……その、似合ってた？｣
			WSTR:(K++) = _呼び名_は赤面しながら上目遣いでおずおずと感想を聞いてきた……。
		ELSE
			WSTR:(K++) = ｢あっ……えへへ♪｣
			WSTR:(K++) = _呼び名_ははにかみながら服を整えている……。
		ENDIF
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「ポロリ発生」時
;--------------------------------------------------
@KOJO_ハプニング_ポロリ発生_2468(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE 1
		;拒絶
		WSTR:(K++) = ｢へ？　……あわわわっ！？｣
		WSTR:(K++) = 慌てふためいた_呼び名_はまろび出た大玉を腕で抑え込むように隠した……。
	CASE 2
		;受入れ
		WSTR:(K++) = ｢わぁああっ！　ちょっとそっち向いてて！｣
		WSTR:(K++) = _呼び名_は暴れる乳房を腕で押さえつけながら背を向けた……。
	CASE 3
		;喜び
		IF TALENT:対象キャラ:恋慕
			SELECTCASE RAND:2
				CASE 0
					WSTR:(K++) = ｢ひゃあっ！　ちょ、ちょっとっこのままでっ_H_　すぐ、なんとかするから……っ_H_｣
					WSTR:(K++) = 慌てて抱きついてきた_呼び名_は周囲の目から隠すように弾力豊かなデカパイを押し付けている……。
				CASE 1
					WSTR:(K++) = ｢やぁっ……あ、あんまり見ちゃ、ダメ……_H_｣
					WSTR:(K++) = 自らの細腕では隠しきれず押さえつけられるまま卑猥に歪む乳房への視線を感じて_呼び名_は顔を真っ赤にしている……。
			ENDSELECT
		ELSE
			WSTR:(K++) = ｢っ！　もー……見過ぎっ♪｣
			WSTR:(K++) = 豊満な生乳に向けられる視線を避けるように身体を捩りながら、_呼び名_はどこか満更でもなさそうな顔をしている……。
		ENDIF
ENDSELECT


CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「乳タッチ」時
;--------------------------------------------------
@KOJO_ハプニング_乳タッチ_2468(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE 1
		;拒絶
		WSTR:(K++) = ｢お？｣
		WSTR:(K++) = 何をされたか分かっていないのか_呼び名_は不思議そうな顔をしている……。
	CASE 2
		;受入れ
		WSTR:(K++) = ｢わひゃっ……もー、いくらおっきくても支えじゃないんだからぁ｣
		WSTR:(K++) = _呼び名_は驚きに声を上げたものの困り顔で注意してきた……。
	CASE 3
		;喜び
		IF TALENT:対象キャラ:恋慕
			SELECTCASE RAND:2
				CASE 0
					WSTR:(K++) = ｢はひぃっ_H_　あっ_H_　あっ_H_　だ、大胆……っ_H_｣
					WSTR:(K++) = 指を押し返すほどの弾力あるデカパイを揉みしだかれた_呼び名_はたちまち顔を蕩けさせ、足を震わせている……。
				CASE 1
					WSTR:(K++) = ｢ひんっ_H_　だ、ダメだってっこんなところで……っ_H_｣
					WSTR:(K++) = 両の手にも収まりきらないデカチチを力強く揉みしだかれ小さく嬌声を漏らした_呼び名_は潤んだ瞳を向けてか細く困惑の声を上げている……。
			ENDSELECT
		ELSE
			WSTR:(K++) = ｢やぁんっ♪　大事に扱って～っ♪｣
			WSTR:(K++) = _呼び名_は言葉とは裏腹に自らの爆乳クッションに埋まった頭を大事そうに抱きしめてきた……。
		ENDIF
ENDSELECT


CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「発情罠」時、陥落状態だと物陰でセックスする
;--------------------------------------------------
@KOJO_ハプニング_発情罠セックス_2468(対象キャラ)
#DIM 対象キャラ

;V挿入したことがない場合、V快楽は発生しない
;A挿入したことがない場合、A快楽は発生しない

CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

WSTR:(K++) = ｢うっ、くっ……はぁーっ_H_　はぁーっ_H_　……ちょっと……来て……っ！｣
WSTR:(K++) = 思いの外強い力で物陰に連れ込まれると_呼び名_は爆乳を押し付けるように情熱的に抱きついてきた。
WSTR:(K++) = ｢ねぇ_H_　ねぇっ_H_　キモチよくしてっ_H_　ガマン、出来ないぃぃ_H_｣
WSTR:(K++) = 火照る身体に苛まれるまま_主人_を求める彼女を癒やすべく_呼び名_が泣きを入れるまで責め立て続けた……。

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

;--------------------------------------------------
;「発情罠」時、陥落状態だと物陰でオナニーする
;--------------------------------------------------
@KOJO_ハプニング_発情罠オナニー_2468(対象キャラ)
#DIM 対象キャラ

;部位の決定方法は一日終了時オナニーと同様
;（全部位からランダム、ABLや敏感素質があると確率UP
;　V経験・A経験が無い場合はそれぞれV・Aは選択されない
;　男の場合、V・Bは選択されない）

CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF 知識素質:対象キャラ:性知識 < 0 && EXP:対象キャラ:自慰経験 <= 0
	;性知識と自慰経験が無い場合、あなたが自慰を教えてあげるシチュになる
	;接触ソースが発生し、キャラがオナニー覚えたて状態になる
	WSTR:(K++) = 
ELSE
	WSTR:(K++) = ｢うっ、くっ……はぁーっ_H_　はぁーっ_H_　……ごめ、ちょっと……あ、アッチの方で休んでるからっ｣
	WSTR:(K++) = 物陰に隠れた_呼び名_は自らの敏感な部位に手を伸ばした。
	WSTR:(K++) = ｢はぁっ_H_　はぁっ_H_　イッたらっ、イッたらすぐに戻らないっ、と、んんん～ッ_H_｣
	WSTR:(K++) = 拙い手つきなりに火照った_呼び名_の身体は忽ち高みに上り詰めた……。
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0 , , 対象キャラ)

